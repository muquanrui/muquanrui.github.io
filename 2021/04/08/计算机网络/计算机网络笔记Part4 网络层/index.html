<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>计算机网络笔记Part4 网络层 | VorSonnenaufgang&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="VorSonnenaufgang,VorSonnenaufgang's Blog" />
  
  <meta name="description" content="1 概述网络层的主要任务是把分组（数据报切割）从源端传送到目的端，为分组交换网上的不同主机提供通信服务。 网络层的传输单位是数据报。 网络层的功能：  路由选择与转发。 异构网络互联。 拥塞控制  2 数据交换方式2.1 电路交换e.g.：电话网络 电路交换过程：  建立连接（呼叫&#x2F;电路建立） 通信 释放电路（拆除电路  特点：独占资源 优点：  通信时延小 有序传输 没有冲突 实时性强  缺点">
<meta property="og:type" content="article">
<meta property="og:title" content="计算机网络笔记Part4 网络层">
<meta property="og:url" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/index.html">
<meta property="og:site_name" content="VorSonnenaufgang&#39;s Blog">
<meta property="og:description" content="1 概述网络层的主要任务是把分组（数据报切割）从源端传送到目的端，为分组交换网上的不同主机提供通信服务。 网络层的传输单位是数据报。 网络层的功能：  路由选择与转发。 异构网络互联。 拥塞控制  2 数据交换方式2.1 电路交换e.g.：电话网络 电路交换过程：  建立连接（呼叫&#x2F;电路建立） 通信 释放电路（拆除电路  特点：独占资源 优点：  通信时延小 有序传输 没有冲突 实时性强  缺点">
<meta property="og:locale">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618137076909.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617868010238.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617868974526.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617896476443.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617896690849.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617896990554.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617897130708.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617897786076.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617899701181.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617910941415.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617911167286.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617911294402.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617911388769.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617911914960.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617912268957.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617912762894.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617913064703.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617913448689.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617914769602.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617915686739.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617916051500.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617916379779.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617966641358.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617967131842.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617967226386.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617967723311.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617968379269.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617969006091.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617969738385.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617969997530.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617970414865.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617982448559.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617983182959.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617984360966.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1617985256681.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618047636001.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618047703574.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618047975916.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618048218298.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618048264057.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618048576913.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618049170294.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618049264080.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618049653460.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618133988406.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618134293690.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618135460694.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618135568884.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618135785377.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618135874792.png">
<meta property="og:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618135967228.png">
<meta property="article:published_time" content="2021-04-08T00:41:28.000Z">
<meta property="article:modified_time" content="2021-07-15T01:46:18.128Z">
<meta property="article:author" content="VorSonnenaufgang">
<meta property="article:tag" content="计算机网络">
<meta property="article:tag" content="B站王道考研">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/images/1618137076909.png">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  
<link rel="stylesheet" href="/css/style.css">


 <!--加载prettify代码高亮样式-->
<link href="/google-code-prettify/tranquil-heart.css" type="text/css" rel="stylesheet" />

  
<script src="/js/pace.min.js"></script>

  

  
  


  <!--加载条样式-->
  <style>
    .pace .pace-progress {
    	background-image: linear-gradient(90deg, #F79533 0%, #F37055 15%, #EF4E7B 30%, #A166AB 44%, #5073B8 58%, #1098AD 72%, #07B39B 86%, #6DBA82 100%);
    	height: 3px;
    }
    .pace .pace-progress-inner {
     	box-shadow: 0 0 10px #1E92FB, 0 0 5px #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
    	border-top-color: #1E92FB;	/*上边框颜色*/
    	border-left-color: #1E92FB;	/*左边框颜色*/
    }
  </style>

<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <div id="background"></div><!--背景颜色/图片-->
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">

        <div id="header-menu" class="header-menu-pos animated">


<a target="_blank" rel="noopener" href="https://github.com/VorSonnenaufgang" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#FFA500; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">VorSonnenaufgang&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/categories">
                        <i class="fa fa-book"></i>
                        <span>Categories</span>
                    </a>
                    
                    <a  href="/tags">
                        <i class="fa fa-tags"></i>
                        <span>Tags</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        VorSonnenaufgang&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        Carpe diem.
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Home" target="_blank" href="//vor.ink">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/VorSonnenaufgang">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="CSDN" target="_blank" href="//blog.csdn.net/vorsonnenaufgang">
                            <i class="fa fa-copyright fa-2x"></i></a>
                    
                        <a title="Google" target="_blank" href="//google.com">
                            <i class="fa fa-google fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-计算机网络/计算机网络笔记Part4 网络层" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      计算机网络笔记Part4 网络层
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/计算机网络/">计算机网络</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2021-04-08
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>          
        </li>
      </ul>
       <span class="post-count">文章字数:6.8k字 &nbsp &nbsp  
         阅读时长:23分钟</span>
    </div>
  
        
          
      </header>
    

    <div class="article-entry post-content" itemprop="articleBody">

    
    



      
            
            <p><img src="./images/1618137076909.png"></p>
<h2 id="1-概述"><a href="#1-概述" class="headerlink" title="1 概述"></a>1 概述</h2><p>网络层的主要任务是把<strong>分组</strong>（数据报切割）从源端传送到目的端，为分组交换网上的不同主机提供通信服务。</p>
<p>网络层的传输单位是<strong>数据报</strong>。</p>
<p>网络层的功能：</p>
<ol>
<li>路由选择与转发。</li>
<li>异构网络互联。</li>
<li>拥塞控制</li>
</ol>
<h2 id="2-数据交换方式"><a href="#2-数据交换方式" class="headerlink" title="2 数据交换方式"></a>2 数据交换方式</h2><h3 id="2-1-电路交换"><a href="#2-1-电路交换" class="headerlink" title="2.1 电路交换"></a>2.1 电路交换</h3><p>e.g.：电话网络</p>
<p>电路交换过程：</p>
<ol>
<li>建立连接（呼叫/电路建立）</li>
<li>通信</li>
<li>释放电路（拆除电路</li>
</ol>
<p>特点：独占资源</p>
<p>优点：</p>
<ol>
<li>通信时延小</li>
<li>有序传输</li>
<li>没有冲突</li>
<li>实时性强</li>
</ol>
<p>缺点：</p>
<ol>
<li>建立连接时间长</li>
<li>线路独占，使用效率低</li>
<li>灵活性差</li>
<li>无差错控制能力</li>
</ol>
<h3 id="2-2-报文交换"><a href="#2-2-报文交换" class="headerlink" title="2.2 报文交换"></a>2.2 报文交换</h3><p><strong>报文</strong>：源媒体发送的信息整体。</p>
<p>优点：</p>
<ol>
<li>无需建立连接</li>
<li>存储转发，动态分配线路</li>
<li>线路可靠性较高</li>
<li>线路利用率较高</li>
<li>多目标服务</li>
</ol>
<p>缺点：</p>
<ol>
<li>有存储转发时延</li>
<li>报文大小不定，需要网络节点有较大缓存空间</li>
</ol>
<h3 id="2-3-分组交换"><a href="#2-3-分组交换" class="headerlink" title="2.3 分组交换"></a>2.3 分组交换</h3><p><strong>分组</strong>：把大的数据块（报文）分割成小的数据块。</p>
<p>优点：</p>
<ol>
<li>无需建立连接</li>
<li>存储转发，动态分配线路</li>
<li>线路可靠性较高</li>
<li>线路利用率较高</li>
<li>相对于报文交换，存储管理更容易</li>
</ol>
<p>缺点：</p>
<ol>
<li>有存储转发时延</li>
<li>需要传输额外的信息量</li>
<li>乱序到目的主机时，要对分组排序重组</li>
</ol>
<p>报文交换 vs 分组交换</p>
<p><img src="./images/1617868010238.png"></p>
<p>三种交换方式比较：</p>
<p><img src="./images/1617868974526.png"></p>
<h3 id="2-4-数据报方式和虚电路方式"><a href="#2-4-数据报方式和虚电路方式" class="headerlink" title="2.4 数据报方式和虚电路方式"></a>2.4 数据报方式和虚电路方式</h3><p>分组交换又分为数据报方式和虚电路方式。</p>
<p>数据报方式为网络层提供<strong>无连接服务</strong>：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同。</p>
<p>虚电路方式为网络层提供<strong>连接服务</strong>：首先为分组的传输确定传输路径（建立连接），然后沿该路径（连接）传输系列分组，系列分组传输路径相同，传输结束后拆除连接。</p>
<p><strong>数据报</strong>：因特网使用的方式</p>
<ul>
<li>无连接：不事先为分组的传输确定传输路径，每个分组独立确定传输路径，不同分组传输路径可能不同。</li>
<li>每个分组携带源和目的地址</li>
<li>路由器根据分组的目的地址转发分组：基于路由协议/算法构建转发表；检索转发表；每个分组独立选路。</li>
</ul>
<p><strong>虚电路</strong>：一条源主机到目的主机类似于电路的路径（逻辑连接），路径上所有结点都要维持这条虚电路的建立，都维持一张虚电路表，每一项记录了一个打开的虚电路信息。</p>
<ul>
<li>结合数据报方式和电路交换方式，发挥两者优点</li>
<li>通信过程：</li>
</ul>
<p><img src="./images/1617896476443.png"></p>
<p>数据报服务 vs 虚电路服务：</p>
<p><img src="./images/1617896690849.png"></p>
<h2 id="3-IP数据报"><a href="#3-IP数据报" class="headerlink" title="3 IP数据报"></a>3 IP数据报</h2><p>TCP/IP协议栈：</p>
<p><img src="./images/1617896990554.png"></p>
<p>IP数据报格式：</p>
<p><img src="./images/1617897130708.png"></p>
<p><img src="./images/1617897786076.png"></p>
<p><strong>最大传送单元MTU</strong>：链路层数据帧可封装数据的上限。（以太网MTU是1500B）</p>
<p>如果所传送数据报长度超过MTU？——分片。</p>
<p><img src="./images/1617899701181.png"></p>
<h2 id="4-IP地址"><a href="#4-IP地址" class="headerlink" title="4 IP地址"></a>4 IP地址</h2><h3 id="4-1-分类的IP地址"><a href="#4-1-分类的IP地址" class="headerlink" title="4.1 分类的IP地址"></a>4.1 分类的IP地址</h3><p>IP编制的历史阶段：</p>
<ol>
<li>分类的IP地址</li>
<li>子网的划分</li>
<li>构成超网（无分类编址方法）</li>
</ol>
<p>IP地址：全世界唯一的32位/4字节标识符，标识主机或路由器的接口。</p>
<p><img src="./images/1617910941415.png"></p>
<p><img src="./images/1617911167286.png"></p>
<p><strong>分类的IP地址</strong>：</p>
<p><img src="./images/1617911294402.png"></p>
<p>特殊的IP地址：在IP地址中有一些并不是来标注主机的，这些地址具有特殊的意义。这些地址包括网络地址、直接广播地址、受限广播地址、本网络地址、环回地址等。</p>
<p><img src="./images/1617911388769.png"></p>
<p>第二行勘误：可作为源地址，不可作为目的地址。</p>
<p>私有IP地址：公网IP是在Internet使用的IP地址，而私有IP地址则是在局域网中使用的IP地址，即在A、B、C三类IP地址中保留下来为企业内部网络分配地址时所使用的IP地址。</p>
<p><img src="./images/1617911914960.png"></p>
<p><img src="./images/1617912268957.png"></p>
<h3 id="4-2-网络地址转换NAT"><a href="#4-2-网络地址转换NAT" class="headerlink" title="4.2 网络地址转换NAT"></a>4.2 网络地址转换NAT</h3><p>路由器对于目的地址是私有IP地址的数据报一律不进行转换。</p>
<p><strong>网络地址转换NAT</strong>（Network Address Translation）：在专用网连接到因特网的路由器上安装NAT软件，安装了NAT软件的路由器叫NAT路由器，它至少有一个有效的外部全球IP地址。</p>
<p><img src="./images/1617912762894.png"></p>
<h3 id="4-3-子网划分与子网掩码"><a href="#4-3-子网划分与子网掩码" class="headerlink" title="4.3 子网划分与子网掩码"></a>4.3 子网划分与子网掩码</h3><p>分类的IP地址的弱点：</p>
<ol>
<li>IP地址空间的利用率有时很低。（网络号太少，主机号太多，但是没那么多主机，无法有效利用）</li>
<li>两级IP地址不够灵活。（已经拥有一个IP地址，要申请新的IP地址，需要再次请求ISP）</li>
</ol>
<p><strong>子网划分</strong>：借用IP地址的若干位主机位来充当子网地址从而将原网络划分为若干子网。</p>
<p><img src="./images/1617913064703.png"></p>
<p><strong>子网掩码</strong>：网络位全1，主机位全0。子网掩码(subnet mask)是一种用来指明一个IP地址的哪些位标识的是主机所在的子网，以及哪些位标识的是主机的位掩码。子网掩码不能单独存在，它必须结合IP地址一起使用。子网掩码只有一个作用，就是将某个IP地址划分成网络地址和主机地址两部分。</p>
<p><img src="./images/1617913448689.png"></p>
<p>使用子网时分组的转发：</p>
<p><img src="./images/1617914769602.png"></p>
<h3 id="4-4-无分类编址CIDR"><a href="#4-4-无分类编址CIDR" class="headerlink" title="4.4 无分类编址CIDR"></a>4.4 无分类编址CIDR</h3><p>无分类域间路由选择CIDR：</p>
<p><img src="./images/1617915686739.png"></p>
<p>构成超网：或称为路由聚合，将多个子网聚合成一个较大的子网。</p>
<p><img src="./images/1617916051500.png"></p>
<p>最长前缀匹配：使用CIDR时，查找路由表可能得到几个匹配结果，应选择具有最长网络前缀的路由。前缀越长，地址快越小，路由越具体。</p>
<p><img src="./images/1617916379779.png"></p>
<h2 id="5-IP相关协议"><a href="#5-IP相关协议" class="headerlink" title="5 IP相关协议"></a>5 IP相关协议</h2><h3 id="5-1-ARP协议"><a href="#5-1-ARP协议" class="headerlink" title="5.1 ARP协议"></a>5.1 ARP协议</h3><p>发送数据的过程：</p>
<ul>
<li>1发送3:</li>
</ul>
<p><img src="./images/1617966641358.png"></p>
<ul>
<li>1发送5:</li>
</ul>
<p><img src="./images/1617967131842.png"></p>
<p><img src="./images/1617967226386.png"></p>
<p><strong>ARP协议</strong>：</p>
<ul>
<li>原因：由于在实际网络的链路上传送数据帧时，最终必须使用MAC地址。</li>
<li>任务：完成主机或路由器IP地址到MAC地址的映射（下一跳走哪里）。</li>
<li>过程：检查ARP高速缓存，有对应表项则写入MAC帧，没有则用目的MAC地址为全F的帧封装并广播ARP请求分组，同一局域网中所有主机都能收到该请求。目睹主机收到请求后就会向源主机单播一个ARP响应分组，源主机收到后将此映射写入ARP缓存（10-20min更新一次）。</li>
<li>4种典型情况：<ul>
<li>主机A发给本网络上的主机B：用ARP找到主机B的MAC地址。</li>
<li>主机A发给另一网络的主机B：用ARP找到本网络上一个路由器（网关）的MAC地址。</li>
<li>路由器发给本网络的主机A：用ARP找到主机A的MAC地址。</li>
<li>路由器发给另一网络的主机B：用ARP找到本网络上的一个路由器的硬件地址。</li>
</ul>
</li>
<li>ARP协议是自动进行的。</li>
</ul>
<h3 id="5-2-DHCP协议"><a href="#5-2-DHCP协议" class="headerlink" title="5.2 DHCP协议"></a>5.2 DHCP协议</h3><p>主机如何获得IP地址：</p>
<ul>
<li>静态配置：IP地址，子网掩码，默认网关（通常是一个路由器的一个端口的IP地址）。</li>
<li>动态配置：</li>
</ul>
<p><img src="./images/1617967723311.png"></p>
<p><strong>DHCP协议</strong>：动态主机配置协议DHCP是<strong>应用层</strong>的协议，使用<strong>客户/服务器</strong>模式，客户端和服务端通过<strong>广播</strong>方式进行交互，基于<strong>UDP</strong>。</p>
<p>DHCP提供<strong>即插即用</strong>联网机制，主机可以从服务器动态获取IP地址、子网掩码、默认网关、DNS服务器名称与IP地址。</p>
<p>DHCP允许<strong>地址重用</strong>，支持<strong>移动用户加入网络</strong>，支持<strong>在用地址续租</strong>。</p>
<p>过程：</p>
<ol>
<li>主机广播DHCP发现报文：有没有DHCP服务器？试图找到网络中的服务器，服务器获得一个IP地址。</li>
<li>DHCP服务器广播DHCP提供报文：有有有。服务器拟分配一个IP地址及相关配置，先到先得。</li>
<li>主机广播DHCP请求报文：我用你给的IP地址？主机向服务器请求提供IP地址。广播是为了告诉其他服务器收回IP地址。</li>
<li>DHCP服务器广播DHCP确认报文：用吧！正式将IP地址分配给主机。</li>
</ol>
<h3 id="5-3-ICMP协议"><a href="#5-3-ICMP协议" class="headerlink" title="5.3 ICMP协议"></a>5.3 ICMP协议</h3><p><strong>网际控制报文协议ICMP</strong>：网络层协议，支持主机或路由器。</p>
<ul>
<li>差错（或异常）报告 —— 发送特定ICMP报文。</li>
<li>网络探询。</li>
</ul>
<p>ICMP报文结构：ICMP报文封装在IP数据报的数据部分。</p>
<p><img src="./images/1617968379269.png"></p>
<p>ICMP报文类型：</p>
<ul>
<li>差错报告报文</li>
<li>询问报文</li>
</ul>
<p>ICMP差错报告报文（5种类型）：</p>
<ol>
<li>终点不可达：无法交付。路由器或主机不能交付数据报时就向源点发送终点不可达报文。</li>
<li>源点抑制（不再使用）：拥塞丢数据。路由器或主机由于拥塞而丢弃数据报时，向源点发送源点抑制报文，使源点知道应当把数据报的发送速率放慢。</li>
<li>时间超过。TTL=0。当路由器收到生存时间TTL=0的数据报时，丢弃该数据报，同时向源点发送时间超过报文。当终点在预先规定时间内不能收到一个数据报的全部报片时，把已收到的数据报片都丢弃，向源点发送时间超过报文。</li>
<li>参数问题：首部字段有问题。当路由器或目的主机收到的数据报的首部中有的字段的值不正确，就丢弃该数据报，并向源点发送参数问题报文。</li>
<li>改变路由（重定向）：值得更好的路由。路由器把改变路由报文发送给主机，让主机直到下次应该将数据报发送给另外的路由器（可通过更好的路由）。</li>
</ol>
<p>ICMP差错报告报文数据字段：</p>
<p><img src="./images/1617969006091.png"></p>
<p>不发送ICMP差错报文的情况：</p>
<ol>
<li>对ICMP差错报告报文不再发送ICMP差错报告报文。</li>
<li>对第一个分片的数据报片的所有后续数据报片都不发送ICMP差错报告报文。</li>
<li>对具有组播地址的数据报都不发送ICMP差错报告报文。</li>
<li>对具有特殊地址（127.0.0.0或0.0.0.0）的数据不发送ICMP差错报告报文。</li>
</ol>
<p>ICMP询问报文（4种类型）：</p>
<ol>
<li>回送请求和回答报文：测试目的站是否可达及了解相关状态。主机或路由器向特定目的主机发出的询问（ping），收到此报文的主机必须给源主机或路由器发送ICMP回送回答报文。</li>
<li>时间戳请求和回答报文：用来进行时钟同步和测量时间。请某个主机或路由器回答当前的日期和时间。</li>
<li>掩码地址请求和回答报文（不再使用）</li>
<li>路由器询问和通告报文（不再使用）</li>
</ol>
<p>ICMP的具体应用：</p>
<ul>
<li>ping：测试两个主机之间的连通性，使用ICMP回送请求和回答报文。</li>
<li>traceroute：跟踪一个分组从源点到终点的路径，使用ICMP时间超过差错报告报文。</li>
</ul>
<h2 id="6-IPv6"><a href="#6-IPv6" class="headerlink" title="6 IPv6"></a>6 IPv6</h2><p>原因：32位IPv4地址空间分配殆尽…，改进首部格式，实现快速处理/转发数据报，支持QoS。</p>
<p>IPv6数据报格式：</p>
<p><img src="./images/1617969738385.png"></p>
<p><img src="./images/1617969997530.png"></p>
<p>IPv6 vs IPv4：</p>
<ol>
<li>IPv6将地址32位扩大到<strong>128位</strong>，更大的地址空间。</li>
<li>IPv6将IPv4的检验和字段彻底移除，以减少每跳的处理时间。</li>
<li>IPv6将IPv4的可选字段移出首部，变成了<strong>扩展首</strong>部，成为灵活的首部格式，路由器通常不对扩展首部进行检查，大大提高了路由器的处理效率。</li>
<li>IPv6支持<strong>即插即用</strong>（自动配置），不需要DHCP协议。</li>
<li>IPv6首部长度必须是<strong>8B的整数倍</strong>，IPv4首部是4B的整数倍。</li>
<li>IPv6<strong>只能在主机处分片</strong>，IPv4可以在路由器和主机分片。</li>
<li>ICMPv6：附加报文类型“分组过大”。</li>
<li>IPv6支持资源的预分配，支持实时视像等要求，保证一定的带宽和时延的应用。</li>
<li>IPv6取消了协议字段，改成下一个首部字段。</li>
<li>IPv6取消了总长度字段，改用有效载荷长度字段。</li>
<li>IPv6取消了服务类型字段。</li>
</ol>
<p>IPv6地址表示形式：</p>
<p><img src="./images/1617970414865.png"></p>
<p>IPv6基本地址类型：</p>
<ul>
<li>单播地址：一对一通信，可做源地址或目的地址。</li>
<li>多播地址：一对多通信，可做目的地址。</li>
<li>任播地址：一对多中的一个通信（通常是距离最近的一个），可做目的地址。</li>
</ul>
<p>IPv6向IPv4过渡的策略：</p>
<ul>
<li>双栈协议：在一个设备上同时启用IPv4协议栈和IPv6协议栈。</li>
<li>隧道技术：使用隧道传递的数据可以是不同协议的数据帧或包，隧道协议将其他协议的数据帧或包重新封装然后通过隧道发送。</li>
</ul>
<h2 id="7-路由算法及路由协议"><a href="#7-路由算法及路由协议" class="headerlink" title="7 路由算法及路由协议"></a>7 路由算法及路由协议</h2><p>路由算法：</p>
<ul>
<li>静态路由算法（非自适应路由算法）：管理员手工配置路由信息<ul>
<li>优点：简单、可靠，在符合稳定、拓扑变化不大的网络中运行效果很好，广泛用于高度安全性的军事网络和较小的商业网络。</li>
<li>缺点：路由更新慢，不适用于大型网络。</li>
</ul>
</li>
<li>动态路由算法（自适应路由算法）：路由器间彼此交换信息，按照路由算法优化出路由表项。<ul>
<li>优点：路由更新快，适用于大型网络，及时响应链路费用或网络拓扑变化。</li>
<li>缺点：算法复杂，增加网络负担。</li>
</ul>
</li>
</ul>
<p>动态路由算法：</p>
<ul>
<li>全局性：链路状态路由算法OSPF，所有路由器掌握完整的网络拓扑和链路费用信息。</li>
<li>分散性：距离向量路由算法RIP，路由器只掌握物理相连的邻居及链路费用。</li>
</ul>
<p>分层次的路由选择协议：</p>
<ul>
<li>原因：<ul>
<li>因特网规模大。</li>
<li>许多单位不想让外界知道自己的路由选择协议，但还想连入因特网。</li>
</ul>
</li>
<li>自治系统AS：<ul>
<li>在单一的技术管理下的一组路由器，而这些路由器使用一种AS内部的路由选择协议和共同的度量以确定分组在该AS内的路由，同时还是用一种AS之间的路由协议以确定AS之间的路由。</li>
<li>一个AS内的所有网络都属于一个行政单位来管辖，一个自治系统的所有路由器在本自治系统内都必须连通。</li>
</ul>
</li>
</ul>
<p>路由选择协议：</p>
<ul>
<li>内部网关协议IGP：一个AS内使用。RIP，OSPF</li>
<li>外部网关协议BGP：AS之间使用。BGP</li>
</ul>
<p><img src="./images/1617982448559.png"></p>
<h3 id="7-1-RIP协议及距离向量算法"><a href="#7-1-RIP协议及距离向量算法" class="headerlink" title="7.1 RIP协议及距离向量算法"></a>7.1 RIP协议及距离向量算法</h3><p><strong>RIP协议</strong>是一种分布式的基于<strong>距离向量</strong>的路由选择协议，是因特网的协议标准，最大优点是<strong>简单</strong>，但只适用于<strong>小互联网</strong>。</p>
<p>RIP协议要求网络中每一个路由器维护从它自己到其他每一个目的网络的<strong>唯一最佳距离记录</strong>（即一组距离）。</p>
<p><strong>距离</strong>：“跳数”，即从源端口到目的端口所经过的路由器个数，经过一个路由器跳数+1。特别的，从一个路由器直接连接的网络距离为1。RIP允许一条路由最多包含15个路由器，因此距离为16表示网络不可达。</p>
<p><img src="./images/1617983182959.png"></p>
<p>RIP协议和谁交换，多久交换一次，交换什么？</p>
<ul>
<li>仅和<strong>相邻路由器</strong>交换信息。</li>
<li>路由器交换的信息是<strong>自己的路由表</strong>。</li>
<li><strong>每30秒</strong>交换一次路由信息，然后路由器根据新信息更新路由表，如果超过180s没收到邻居路由器的通告，则判定邻居没了，并更新自己的路由表。</li>
</ul>
<p>路由器刚开始工作时，只知道直接连接网络的距离（距离为1），接着每一个路由器也只和数目有限的相邻路由器交换并更新路由信息。</p>
<p>经过若干次更新后，所有路由器最终都会知道到达本自治系统任何一个网络的最短距离和下一跳路由器地址，即“<strong>收敛</strong>”。</p>
<p><strong>距离向量算法</strong>：</p>
<ol>
<li>修改相邻路由器发来的RIP报文中的<strong>所有表项</strong>：<ul>
<li>对地址为X的相邻路由器发来的RIP报文，修改此报文中的所有项目：把下一跳字段中的地址改为X，并把所有距离字段+1。</li>
</ul>
</li>
<li>对修改后的RIP报文中的每一个项目，进行以下步骤：<ul>
<li>R1路由表中若没有Net3，则把该项目填入R1路由表</li>
<li>R1路由表中若有Net3，则查看下一跳路由器地址：<ul>
<li>若下一跳是X，则用收到的项目替换原路由表中的项目。</li>
<li>若下一跳不是X，原来距离比从X走的距离更远则更新，否则不作处理。</li>
</ul>
</li>
</ul>
</li>
<li>若180s还没收到相邻路由器X的更新路由表，则把X记为不可达路由器，把距离设置为16。</li>
<li>返回。</li>
</ol>
<p><img src="./images/1617984360966.png"></p>
<p>RIP协议的报文格式：</p>
<p><img src="./images/1617985256681.png"></p>
<p>RIP协议的特点：好消息传得快，坏消息传得慢。当网络出现故障时，要经过比较长的时间（比如数分钟）才能将此消息传给所有路由器，“慢收敛”。</p>
<h3 id="7-2-OSPF协议及链路状态算法"><a href="#7-2-OSPF协议及链路状态算法" class="headerlink" title="7.2 OSPF协议及链路状态算法"></a>7.2 OSPF协议及链路状态算法</h3><p>开放最短路径优先OSPF协议：“开放”表明OSPF协议不是受某一厂商控制，而是<strong>公开发表</strong>的；“最短路径优先”是因为使用了<strong>Dijkstra</strong>提出的最短路径算法SPF。</p>
<p>OSPF最主要的特征就是使用分布式的<strong>链路状态协议</strong>。</p>
<p>OSPF的特点：</p>
<ol>
<li>和谁交换：使用洪泛法向自治系统内<strong>所有路由器</strong>发送信息，即路由器通过输出端口向所有相邻的路由器发送信息，而每一个相邻路由器又再次将此信息发往其他所有相邻路由器（<strong>广播</strong>）。最终整个区域内所有路由器都得到了这个信息的一个副本。</li>
<li>交换什么：发送的信息就是本路由器<strong>相邻的所有路由器的链路状态</strong>（本路由器和哪些路由器相邻，以及该链路的度量/代价——费用、距离、时延、带宽等等）。</li>
<li>多久交换：<strong>只有当链路发生变化时</strong>，路由器才向所有路由器洪泛发送此信息。</li>
</ol>
<p>最后，所有路由器都能建立一个<strong>链路状态数据库</strong>，也叫<strong>全网拓扑图</strong>。</p>
<p>链路状态路由算法：</p>
<ol>
<li>每个路由器发现它的邻居节点——HELLO问候分组，并了解邻居节点的网络地址。</li>
<li>设置到它的每个邻居的成本度量metric。</li>
<li>构造——DD数据库描述分组，向邻站给出自己的链路状态数据库中的所有链路状态项目的摘要信息。</li>
<li>如果DD分组中的摘要自己都有，则邻站不作处理；如果有没有的或者是更新的，则发送——LSR链路状态请求分组，请求自己没有的和比自己更新的信息。</li>
<li>收到邻站的LSR分组后，发送——LSU链路状态更新分组，进行更新。</li>
<li>更新完毕后，邻站返回一个——LSAck链路状态确认分组，进行确认。</li>
</ol>
<p>只要一个路由器的链路状态发生变化：</p>
<ol start="5">
<li>洪泛发送——LSU链路状态更新分组，进行更新。</li>
<li>更新完毕后，其他站返回一个——LSAck链路状态确认分组，进行确认。</li>
<li>使用Dijkstra根据自己的链路状态数据库构造到其他节点间的最短路径。</li>
</ol>
<p>OSPF的区域：</p>
<p><img src="./images/1618047636001.png"></p>
<p>OSPF分组：</p>
<p><img src="./images/1618047703574.png"></p>
<p>OSPF其他特点：</p>
<ol>
<li>每隔30min，刷新一次数据库中的链路状态。</li>
<li>由于每一个路由器的链路状态只涉及到与相邻路由器的连通状态，因而与整个互联网的规模并无直接关系，因此当互联网规模很大时，OSPF协议要比RIP好得多。</li>
<li>OSPF不存在坏消息传得慢的问题，它的收敛速度更快。</li>
</ol>
<h3 id="7-3-BGP协议"><a href="#7-3-BGP协议" class="headerlink" title="7.3 BGP协议"></a>7.3 BGP协议</h3><p>BGP协议：</p>
<ul>
<li>和谁交换：与其他的邻站BGP发言人交换信息。</li>
<li>交换什么：网络可达性信息，即要到达某个网络所要经过的一系列AS。</li>
<li>多久交换：发生变化时更新有变化的部分。</li>
</ul>
<p><img src="./images/1618047975916.png"></p>
<p>BGP协议交换信息的过程：BGP所交换的网络可达性的信息就是要<strong>到达某个网络所要经过的一系列AS</strong>。当BGP发言人互相交换了网络可达性的信息后，各BGP发言人就根据所采用的策略从收到的路由信息中找到到达各AS的较好路由。</p>
<p><img src="./images/1618048218298.png"></p>
<p>BGP协议的报文格式：</p>
<p><img src="./images/1618048264057.png"></p>
<p>BGP协议的特点：</p>
<ul>
<li>BGP支持CIDR，因此BGP的路由表包括目前网络前缀、下一跳路由器，以及到达目的网络要经过的AS序列。</li>
<li>BGP刚运行时，BGP的邻站交换整个BGP路由表，以后只需要在发生变化时更新有变化的部分，从而节省网络带宽，减少路由器处理开销。</li>
</ul>
<p>BGP-4的4种报文：</p>
<ol>
<li>OPEN报文：用来喝相邻的另一个BGP发言人建立关系，并认证发送方。</li>
<li>UPDATE报文：通告新路径或撤销原路径。</li>
<li>KEEPALIVE报文：在无UPDATE时，周期性证实邻站的连通性，也作为OPEN的确认。</li>
<li>NOTIFICATION报文：报告先前的报文的差错，也用于关闭连接。</li>
</ol>
<p>三种路由协议比较：</p>
<ul>
<li>RIP是一种分布式的基于距离向量的内部网关路由选择协议，通过广播UDP报文来交换路由信息。</li>
<li>OSPF是一个内部网关协议，交换信息量大，应使报文长度尽量短，所以不适用传输层协议，直接采用IP。</li>
<li>BGP是一个外部网关协议，在不同AS之间交换路由信息，由于网络环境复杂需要可靠传输，采用TCP。</li>
</ul>
<p><img src="./images/1618048576913.png"></p>
<h2 id="8-IP组播"><a href="#8-IP组播" class="headerlink" title="8 IP组播"></a>8 IP组播</h2><p>IP数据报的三种传输方式：</p>
<ul>
<li>单播：用于发送数据报到单个目的地，且每发送一个份单播报文都使用一个单播IP地址，作为目的地址，是<strong>点对点</strong>传输方式。</li>
<li>广播：发送数据报到同一广播域或子网内的所有设备的一种数据传输方式，是<strong>点对多点</strong>传输方式。</li>
<li>组播（多播）：当网络中某些用户需要特定数据时，组播数据发送者仅发送一次数据，借助组播路由协议为组播数据报建立组播发送树，被传递的数据到达距离用户端尽可能近的节点后才开始复制和分发，是<strong>点对多点</strong>传输方式。</li>
</ul>
<p><img src="./images/1618049170294.png"></p>
<p><img src="./images/1618049264080.png"></p>
<p>IP组播地址：</p>
<ul>
<li>IP组播地址让源设备能够将分组发送给一个组设备。属于多播组的设备将被分配<strong>一个组播组IP地址</strong>（一群有共同需求主机的相同标识）。</li>
<li>组播地址范围224.0.0.0~239.255.255.255（D类地址），一个D类地址表示一个组播组，只能作分组的目的地址，源地址总是单播地址。</li>
<li>特点：<ul>
<li>组播数据报是“尽最大努力交付”，不提供可靠交付，应用于UDP。</li>
<li>对组播数据报不产生ICMP差错报文。</li>
<li>并非所有D类地址都可以作为组播地址。</li>
</ul>
</li>
</ul>
<p><img src="./images/1618049653460.png"></p>
<p>硬件组播：组播IP地址也需要相应的组播MAC地址在本地网络中实际传送帧。组播MAC地址以16进制01-00-5E打头，余下的6个十六进制位是根据IP组播地址的最后23位转换得到。</p>
<p><img src="./images/1618133988406.png"></p>
<p><strong>网际组管理协议IGMP</strong>：</p>
<p><img src="./images/1618134293690.png"></p>
<p>IGMP工作的两个阶段：</p>
<ol>
<li>某主机要加入组播组时，该主机向组播组发送一个IGMP报文，声明自己要成为该组的成员。本地组播路由器收到IGMP报文后，利用<strong>组播路由选择协议</strong>把这组成员关系发给因特网上的其他组播路由器。</li>
<li>本地组播路由器周期性探询本地局域网上的主机，以便知道这些主机是否还是组播组成员。只要有一个主机对某个组响应，那么组播路由器就认为这个组是活跃的；如果经过几次探询后没有一个主机响应，组播路由器就认为本网络上没有此组播组的主机，因此就不把这组的成员关系发给其他组播路由器。</li>
</ol>
<p>组播路由器知道的成员关系只是所连接局域网中有无组播组的成员。</p>
<p><strong>组播路由选择协议</strong>：</p>
<ul>
<li>目的是找出源主机为根结点的<strong>组播转发树</strong>。</li>
<li>构造树结构可以避免形成环。</li>
<li>不同的多播组对应于不同的多播转发树；同一个多播组，对不同的源点也会有不同的多播转发树。</li>
<li>使用三种算法：<ul>
<li>基于链路状态的路由选择</li>
<li>基于距离-向量的路由选择</li>
<li>协议无关的组播（稀疏/密集）</li>
</ul>
</li>
</ul>
<h2 id="9-移动IP"><a href="#9-移动IP" class="headerlink" title="9 移动IP"></a>9 移动IP</h2><p>相关术语：</p>
<ul>
<li>移动IP技术是移动结点（计算机/服务器等）以<strong>固定的网络IP地址</strong>，实现跨越不同网段的<strong>漫游</strong>功能，并保证了基于网络IP的网络权限在漫游过程中不发生任何改变。</li>
<li><strong>移动结点</strong>：具有永久IP地址的移动设备。</li>
<li><strong>归属代理</strong>（本地代理）：一个移动节点拥有的“居所”称为归属网络，在归属网络中代表移动节点执行移动管理功能的实体就叫归属代理。</li>
<li><strong>外部代理</strong>（外地代理）：在外部网络中帮助移动节点完成移动管理功能的实体称为外部代理。</li>
<li><strong>永久地址</strong>（归属地址/主地址）：移动站点在归属网络中的原始地址。</li>
<li><strong>转交地址</strong>（辅地址）：移动站点在外部网络使用的临时地址。</li>
</ul>
<p>通信过程：</p>
<p><img src="./images/1618135460694.png"></p>
<p><img src="./images/1618135568884.png"></p>
<h2 id="10-网络层设备"><a href="#10-网络层设备" class="headerlink" title="10 网络层设备"></a>10 网络层设备</h2><p><strong>路由器</strong>：</p>
<p><img src="./images/1618135785377.png"></p>
<p>输入端口对线路上收到分组的处理：</p>
<p><img src="./images/1618135874792.png"></p>
<p>输出端口将交换结构传送来的分组发送到线路：</p>
<p><img src="./images/1618135967228.png"></p>
<p>三层设备的区别：</p>
<ul>
<li>路由器：互联两个不同网络层协议的网段。</li>
<li>网桥：互联两个物理层和链路层不同的网段。</li>
<li>集线器：不能互联两个物理层不同的网段。</li>
</ul>
<p>路由表与路由转发：</p>
<ul>
<li>路由表根据路由选择算法得出，主要用途是路由选择，总用软件实现。</li>
<li>转发表由路由表得来，可以用软件实现，也可以用特殊硬件实现。转发表必须包含完成转发功能所必需的信息，在转发表的每一行必须包含从要到达的目的网络到输出端口和某些MAC地址信息的映射。</li>
</ul>
<hr>
<blockquote>
<p>参考资料：<br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV19E411D78Q?from=search&seid=9528505304466187088">B站 2019 王道考研 计算机网络</a></p>
</blockquote>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2021年07月15日 09:46</p>
        <p>原始链接： <a class="post-url" href="/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/" title="计算机网络笔记Part4 网络层">http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/</a></p>
        <footer>
            <a href="http://vor.ink">
                <img src="/images/logo.png" alt="VorSonnenaufgang">
                VorSonnenaufgang
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我吃糖~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/&title=《计算机网络笔记Part4 网络层》 — VorSonnenaufgang's Blog&pic=cover.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/&title=《计算机网络笔记Part4 网络层》 — VorSonnenaufgang's Blog&source=Carpe diem." data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《计算机网络笔记Part4 网络层》 — VorSonnenaufgang's Blog&url=http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/&via=http://vor.ink" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://vor.ink/2021/04/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part4%20%E7%BD%91%E7%BB%9C%E5%B1%82/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/计算机网络/" class="color1">计算机网络</a>
      
    <a href="/tags/B站王道考研/" class="color2">B站王道考研</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
        <div class= "post-toc-name">Table of Contents</div>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="post-toc-text">1 概述</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-%E6%95%B0%E6%8D%AE%E4%BA%A4%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="post-toc-text">2 数据交换方式</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-%E7%94%B5%E8%B7%AF%E4%BA%A4%E6%8D%A2"><span class="post-toc-text">2.1 电路交换</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-%E6%8A%A5%E6%96%87%E4%BA%A4%E6%8D%A2"><span class="post-toc-text">2.2 报文交换</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-%E5%88%86%E7%BB%84%E4%BA%A4%E6%8D%A2"><span class="post-toc-text">2.3 分组交换</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-%E6%95%B0%E6%8D%AE%E6%8A%A5%E6%96%B9%E5%BC%8F%E5%92%8C%E8%99%9A%E7%94%B5%E8%B7%AF%E6%96%B9%E5%BC%8F"><span class="post-toc-text">2.4 数据报方式和虚电路方式</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-IP%E6%95%B0%E6%8D%AE%E6%8A%A5"><span class="post-toc-text">3 IP数据报</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-IP%E5%9C%B0%E5%9D%80"><span class="post-toc-text">4 IP地址</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-1-%E5%88%86%E7%B1%BB%E7%9A%84IP%E5%9C%B0%E5%9D%80"><span class="post-toc-text">4.1 分类的IP地址</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-2-%E7%BD%91%E7%BB%9C%E5%9C%B0%E5%9D%80%E8%BD%AC%E6%8D%A2NAT"><span class="post-toc-text">4.2 网络地址转换NAT</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-3-%E5%AD%90%E7%BD%91%E5%88%92%E5%88%86%E4%B8%8E%E5%AD%90%E7%BD%91%E6%8E%A9%E7%A0%81"><span class="post-toc-text">4.3 子网划分与子网掩码</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#4-4-%E6%97%A0%E5%88%86%E7%B1%BB%E7%BC%96%E5%9D%80CIDR"><span class="post-toc-text">4.4 无分类编址CIDR</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#5-IP%E7%9B%B8%E5%85%B3%E5%8D%8F%E8%AE%AE"><span class="post-toc-text">5 IP相关协议</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-1-ARP%E5%8D%8F%E8%AE%AE"><span class="post-toc-text">5.1 ARP协议</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-2-DHCP%E5%8D%8F%E8%AE%AE"><span class="post-toc-text">5.2 DHCP协议</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#5-3-ICMP%E5%8D%8F%E8%AE%AE"><span class="post-toc-text">5.3 ICMP协议</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#6-IPv6"><span class="post-toc-text">6 IPv6</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#7-%E8%B7%AF%E7%94%B1%E7%AE%97%E6%B3%95%E5%8F%8A%E8%B7%AF%E7%94%B1%E5%8D%8F%E8%AE%AE"><span class="post-toc-text">7 路由算法及路由协议</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-1-RIP%E5%8D%8F%E8%AE%AE%E5%8F%8A%E8%B7%9D%E7%A6%BB%E5%90%91%E9%87%8F%E7%AE%97%E6%B3%95"><span class="post-toc-text">7.1 RIP协议及距离向量算法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-2-OSPF%E5%8D%8F%E8%AE%AE%E5%8F%8A%E9%93%BE%E8%B7%AF%E7%8A%B6%E6%80%81%E7%AE%97%E6%B3%95"><span class="post-toc-text">7.2 OSPF协议及链路状态算法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#7-3-BGP%E5%8D%8F%E8%AE%AE"><span class="post-toc-text">7.3 BGP协议</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#8-IP%E7%BB%84%E6%92%AD"><span class="post-toc-text">8 IP组播</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#9-%E7%A7%BB%E5%8A%A8IP"><span class="post-toc-text">9 移动IP</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#10-%E7%BD%91%E7%BB%9C%E5%B1%82%E8%AE%BE%E5%A4%87"><span class="post-toc-text">10 网络层设备</span></a></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2021/04/11/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%EF%BC%88Java%E5%AE%9E%E7%8E%B0%EF%BC%89Part1%20%E7%A8%80%E7%96%8F%E6%95%B0%E7%BB%84%E5%92%8C%E9%98%9F%E5%88%97/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          数据结构与算法（Java实现）Part1 稀疏数组和队列
        
      </span>
    </a>
  
  
    <a href="/2021/04/05/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%94%E8%AE%B0Part3%20%E6%95%B0%E6%8D%AE%E9%93%BE%E8%B7%AF%E5%B1%82/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">计算机网络笔记Part3 数据链路层</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
        <div id="SOHUCS" sid="计算机网络/计算机网络笔记Part4 网络层" ></div>
<script type="text/javascript">
    (function(){
        var appid = 'cyvaQ34l4';
        var conf = 'dfbc2f31fdc91ffc75e2035195b4426d';
        var width = window.innerWidth || document.documentElement.clientWidth;
        if (width < 960) {
            window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    |
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
    <div class="theme-info">
</p>


      <span class="post-count">本站博文总字数：211k</span>
      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018~2022 VorSonnenaufgang<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<!--加载prettify代码高亮js-->
  <script type="text/javascript" src="/google-code-prettify/prettify.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      $('pre').addClass('prettyprint linenums');
      $('code').addClass('prettyprint');
      prettyPrint();
    })
  </script>

<script>
  var mihoConfig = {
      root: "http://vor.ink",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/Big-Data/">Big Data</a><a class="category-link" href="/categories/Blog/">Blog</a><a class="category-link" href="/categories/Essay/">Essay</a><a class="category-link" href="/categories/IDEA/">IDEA</a><a class="category-link" href="/categories/IDE%E5%92%8C%E7%BC%96%E8%BE%91%E5%99%A8/">IDE和编辑器</a><a class="category-link" href="/categories/Java/">Java</a><a class="category-link" href="/categories/MySQL/">MySQL</a><a class="category-link" href="/categories/Programming/">Programming</a><a class="category-link" href="/categories/Project/">Project</a><a class="category-link" href="/categories/Spring/">Spring</a><a class="category-link" href="/categories/UML/">UML</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><a class="category-link" href="/categories/%E5%9B%BE%E8%AE%BA/">图论</a><a class="category-link" href="/categories/%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%80/">奇淫巧技</a><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a><a class="category-link" href="/categories/%E6%97%A0%E5%90%8D%E5%90%88%E9%9B%86/">无名合集</a><a class="category-link" href="/categories/%E6%B3%95%E8%AF%AD/">法语</a><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3/">计算机接口</a><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Big-Data/" style="font-size: 10.83px;">Big Data</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/B%E7%AB%99%E5%B0%9A%E7%A1%85%E8%B0%B7/" style="font-size: 13.33px;">B站尚硅谷</a> <a href="/tags/B%E7%AB%99%E7%8E%8B%E9%81%93%E8%80%83%E7%A0%94/" style="font-size: 14.17px;">B站王道考研</a> <a href="/tags/CSS/" style="font-size: 11.67px;">CSS</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">C语言</a> <a href="/tags/ENSEEIHT/" style="font-size: 15px;">ENSEEIHT</a> <a href="/tags/Essay/" style="font-size: 10.83px;">Essay</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/IDEA/" style="font-size: 10.83px;">IDEA</a> <a href="/tags/IDE%E5%92%8C%E7%BC%96%E8%BE%91%E5%99%A8/" style="font-size: 10px;">IDE和编辑器</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/JavaWeb/" style="font-size: 10px;">JavaWeb</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">Java基础</a> <a href="/tags/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8D%B7I/" style="font-size: 16.67px;">Java核心技术卷I</a> <a href="/tags/Java%E7%AC%94%E8%AE%B0/" style="font-size: 17.5px;">Java笔记</a> <a href="/tags/Java%E9%AB%98%E7%BA%A7/" style="font-size: 15.83px;">Java高级</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 10.83px;">MySQL</a> <a href="/tags/OneNote/" style="font-size: 10px;">OneNote</a> <a href="/tags/Project/" style="font-size: 10px;">Project</a> <a href="/tags/QoS/" style="font-size: 11.67px;">QoS</a> <a href="/tags/SSM/" style="font-size: 10.83px;">SSM</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spark/" style="font-size: 10.83px;">Spark</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UML/" style="font-size: 12.5px;">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/macOS/" style="font-size: 12.5px;">macOS</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10.83px;">前端</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 10.83px;">图论</a> <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 19.17px;">大学课程</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10.83px;">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13.33px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%B3%95%E8%AF%AD/" style="font-size: 16.67px;">法语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E5%8F%A3%E8%AF%AD/" style="font-size: 10px;">法语口语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">法语语法</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E9%9F%B3/" style="font-size: 10px;">法语语音</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 10.83px;">离散数学</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3%E4%B8%8E%E9%80%9A%E4%BF%A1/" style="font-size: 12.5px;">计算机接口与通信</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 18.33px;">计算机网络</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">软件工程</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/categories">
                    <i class="fa fa-book"></i><span>Categories</span>
                </a>
            </li>
            
            <li>
                <a  href="/tags">
                    <i class="fa fa-tags"></i><span>Tags</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Big-Data/" style="font-size: 10.83px;">Big Data</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/B%E7%AB%99%E5%B0%9A%E7%A1%85%E8%B0%B7/" style="font-size: 13.33px;">B站尚硅谷</a> <a href="/tags/B%E7%AB%99%E7%8E%8B%E9%81%93%E8%80%83%E7%A0%94/" style="font-size: 14.17px;">B站王道考研</a> <a href="/tags/CSS/" style="font-size: 11.67px;">CSS</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">C语言</a> <a href="/tags/ENSEEIHT/" style="font-size: 15px;">ENSEEIHT</a> <a href="/tags/Essay/" style="font-size: 10.83px;">Essay</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/IDEA/" style="font-size: 10.83px;">IDEA</a> <a href="/tags/IDE%E5%92%8C%E7%BC%96%E8%BE%91%E5%99%A8/" style="font-size: 10px;">IDE和编辑器</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/JavaWeb/" style="font-size: 10px;">JavaWeb</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">Java基础</a> <a href="/tags/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8D%B7I/" style="font-size: 16.67px;">Java核心技术卷I</a> <a href="/tags/Java%E7%AC%94%E8%AE%B0/" style="font-size: 17.5px;">Java笔记</a> <a href="/tags/Java%E9%AB%98%E7%BA%A7/" style="font-size: 15.83px;">Java高级</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 10.83px;">MySQL</a> <a href="/tags/OneNote/" style="font-size: 10px;">OneNote</a> <a href="/tags/Project/" style="font-size: 10px;">Project</a> <a href="/tags/QoS/" style="font-size: 11.67px;">QoS</a> <a href="/tags/SSM/" style="font-size: 10.83px;">SSM</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spark/" style="font-size: 10.83px;">Spark</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UML/" style="font-size: 12.5px;">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/macOS/" style="font-size: 12.5px;">macOS</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10.83px;">前端</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 10.83px;">图论</a> <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 19.17px;">大学课程</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10.83px;">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13.33px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%B3%95%E8%AF%AD/" style="font-size: 16.67px;">法语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E5%8F%A3%E8%AF%AD/" style="font-size: 10px;">法语口语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">法语语法</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E9%9F%B3/" style="font-size: 10px;">法语语音</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 10.83px;">离散数学</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3%E4%B8%8E%E9%80%9A%E4%BF%A1/" style="font-size: 12.5px;">计算机接口与通信</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 18.33px;">计算机网络</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">软件工程</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>

<script src="/js/search.js"></script>


<script src="/js/main.js"></script>









  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  
<script src="/js/animate.js"></script>



  
<script src="/js/pop-img.js"></script>

  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
  <!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":200,"height":400,"vOffset":-30},"mobile":{"show":false},"react":{"opacity":0.8},"log":false});</script></body>
</html>



