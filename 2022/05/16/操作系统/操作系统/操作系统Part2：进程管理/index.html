<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>操作系统Part2：进程管理 | Quanrui&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Quanrui's Blog" />
  
  <meta name="description" content="1 进程与线程1.1 进程的定义、组成、组织方式和特征程序指一个指令序列。进程可以理解为程序的一次执行过程。 系统为每个运行的程序配置一个数据结构，称为进程控制块PCB，用来描述进程的各种信息（如程序代码存放位置）。程序段、数据段、PCB三部分组成进程实体（进程映像），进程实体也就简称为进程。PCB是进程存在的唯一标志！创建进程实质上是创建进程实体中的PCB，撤销进程就是撤销进程实体中的PCB。">
<meta property="og:type" content="article">
<meta property="og:title" content="操作系统Part2：进程管理">
<meta property="og:url" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/index.html">
<meta property="og:site_name" content="Quanrui&#39;s Blog">
<meta property="og:description" content="1 进程与线程1.1 进程的定义、组成、组织方式和特征程序指一个指令序列。进程可以理解为程序的一次执行过程。 系统为每个运行的程序配置一个数据结构，称为进程控制块PCB，用来描述进程的各种信息（如程序代码存放位置）。程序段、数据段、PCB三部分组成进程实体（进程映像），进程实体也就简称为进程。PCB是进程存在的唯一标志！创建进程实质上是创建进程实体中的PCB，撤销进程就是撤销进程实体中的PCB。">
<meta property="og:locale">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220516182702840.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220516184429554.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220516185537626.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517094535237.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517101112961.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517101327777.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517112301753.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517113110170.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517113347721.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517113507778.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517201316956.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517203855299.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220517203940168.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518085026377.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518085127446.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518112541851.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518113814973.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518114458834.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518114857436.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518115039800.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518115443798.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518115900005.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518120236214.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518120439072.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518124844069.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518125235099.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518130314645.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518130722452.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518131042238.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518131401177.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518214256243.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518214339329.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518214434363.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518214509741.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518214906163.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518215243333.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518215545117.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518215736195.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518220046171.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518220351008.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518221001204.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518221027558.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220518221328314.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220519130353758.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220519130450673.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220519130732964.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220519131022364.png">
<meta property="og:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220519131130418.png">
<meta property="article:published_time" content="2022-05-16T10:16:32.000Z">
<meta property="article:modified_time" content="2022-05-19T05:18:04.783Z">
<meta property="article:author" content="MU Quanrui">
<meta property="article:tag" content="操作系统">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/images/image-20220516182702840.png">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  
<link rel="stylesheet" href="/css/style.css">


 <!--加载prettify代码高亮样式-->
<link href="/google-code-prettify/tranquil-heart.css" type="text/css" rel="stylesheet" />

  
<script src="/js/pace.min.js"></script>

  

  
  


  <!--加载条样式-->
  <style>
    .pace .pace-progress {
    	background-image: linear-gradient(90deg, #F79533 0%, #F37055 15%, #EF4E7B 30%, #A166AB 44%, #5073B8 58%, #1098AD 72%, #07B39B 86%, #6DBA82 100%);
    	height: 3px;
    }
    .pace .pace-progress-inner {
     	box-shadow: 0 0 10px #1E92FB, 0 0 5px #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
    	border-top-color: #1E92FB;	/*上边框颜色*/
    	border-left-color: #1E92FB;	/*左边框颜色*/
    }
  </style>

<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <div id="background"></div><!--背景颜色/图片-->
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">

        <div id="header-menu" class="header-menu-pos animated">


<a target="_blank" rel="noopener" href="https://github.com/muquanrui" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#FFA500; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">Quanrui&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/categories">
                        <i class="fa fa-book"></i>
                        <span>Categories</span>
                    </a>
                    
                    <a  href="/tags">
                        <i class="fa fa-tags"></i>
                        <span>Tags</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        Quanrui&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        Carpe diem.
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Home" target="_blank" href="//muquanrui.com">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/muquanrui">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="Google" target="_blank" href="//google.com">
                            <i class="fa fa-google fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-操作系统/操作系统/操作系统Part2：进程管理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      操作系统Part2：进程管理
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/操作系统/">操作系统</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2022-05-16
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>          
        </li>
      </ul>
       <span class="post-count">文章字数:9.2k字 &nbsp &nbsp  
         阅读时长:31分钟</span>
    </div>
  
        
          
      </header>
    

    <div class="article-entry post-content" itemprop="articleBody">

    
    



      
            
            <h1 id="1-进程与线程"><a href="#1-进程与线程" class="headerlink" title="1 进程与线程"></a>1 进程与线程</h1><h2 id="1-1-进程的定义、组成、组织方式和特征"><a href="#1-1-进程的定义、组成、组织方式和特征" class="headerlink" title="1.1 进程的定义、组成、组织方式和特征"></a>1.1 进程的定义、组成、组织方式和特征</h2><p><strong>程序</strong>指一个指令序列。<strong>进程</strong>可以理解为程序的一次执行过程。</p>
<p>系统为每个运行的程序配置一个数据结构，称为<strong>进程控制块PCB</strong>，用来描述进程的各种信息（如程序代码存放位置）。<strong>程序段、数据段、PCB三部分组成进程实体</strong>（进程映像），进程实体也就简称为进程。<strong>PCB是进程存在的唯一标志</strong>！创建进程实质上是创建进程实体中的PCB，撤销进程就是撤销进程实体中的PCB。</p>
<p>进程也可以理解为进程实体的运行过程，是<strong>系统进行系统分配和调度的一个独立单位</strong>。</p>
<p><strong>PCB主要包括的信息</strong>：和进程相关的数据。</p>
<p><img src="images/image-20220516182702840.png" alt="image-20220516182702840"></p>
<p>一个系统中通常有很多PCB，为了对他们加以有效的管理，应该用更适当的方式把这些PCB组织起来，<strong>进程的组织方式主要有</strong>：</p>
<ul>
<li><strong>链接方式</strong>：按照进程状态将PCB分为多个<strong>队列</strong>，操作系统持有指向各个队列的指针。</li>
<li><strong>索引方式</strong>：按照进程状态建立几张<strong>索引表</strong>，操作系统持有指向各个索引表的指针。</li>
</ul>
<p><strong>进程的特征主要有</strong>：</p>
<ul>
<li>动态性：进程是程序的一次执行过程，动态产生、变化和消亡。</li>
<li>并发性：内存中有多个进程实体，各进程并发执行。</li>
<li>独立性：进程独立运行，独立获得资源，是独立接受调度的单位。</li>
<li>异步性：进程按各自独立的、不可预知的速度向前推进。</li>
<li>结构性：每个进程都会配置一个PCB，然后一个进程实体由程序段、数据段和PCB组成。</li>
</ul>
<h2 id="1-2-进程的状态与转换"><a href="#1-2-进程的状态与转换" class="headerlink" title="1.2 进程的状态与转换"></a>1.2 进程的状态与转换</h2><p>三种基本状态：</p>
<ol>
<li><strong>运行态</strong>（Running）：占有CPU，正在CPU上运行。单核环境下每一时刻最多只能有一个处于运行态的进程。</li>
<li><strong>就绪态</strong>（Ready）：已经具备运行条件，但是没有空闲CPU，暂时不能运行。此时进程拥有除CPU以外的所有需要资源。一旦获得CPU执行权就立即进入运行态。</li>
<li><strong>阻塞态</strong>（Waiting/Blocked）：因为等待某一事件，暂时不能运行。如等待操作系统分配打印机、等待读磁盘操作的结果等。</li>
</ol>
<p>另外两种状态：</p>
<ol start="4">
<li><p><strong>创建态</strong>（New）：进程正在被创建，操作系统为进程分配资源、初始化PCB。</p>
</li>
<li><p><strong>终止态</strong>（Terminated）：进程正在从系统中撤销，操作系统会回收进程拥有的资源、撤销PCB。</p>
</li>
</ol>
<p><strong>进程状态的转换</strong>：</p>
<p><img src="images/image-20220516184429554.png" alt="image-20220516184429554"></p>
<h2 id="1-3-进程的控制"><a href="#1-3-进程的控制" class="headerlink" title="1.3 进程的控制"></a>1.3 进程的控制</h2><p><strong>进程的控制</strong>就是要实现进程状态之间的状态转换。</p>
<p>进程控制使用<strong>原语</strong>（Primitive）来实现，原语运行在<strong>核心态</strong>，特点是执行期间不允许中断，只能一气呵成，即原子操作。原语采用「开中断指令」和「关中断指令」实现。<strong>开/关中断指令权限非常大，是只能在核心态下执行的特权指令</strong>。</p>
<p><img src="images/image-20220516185537626.png" alt="image-20220516185537626"></p>
<p>原语的主要类型有：</p>
<ol>
<li>创建原语</li>
<li>撤销原语</li>
<li>阻塞原语</li>
<li>唤醒原语</li>
<li>切换原语</li>
</ol>
<p>无论哪个原语，要做的事情就是三类：</p>
<ol>
<li><p><strong>更新PCB中的信息</strong>。</p>
<ul>
<li>所有的进程控制原语一定会修改进程状态标识。</li>
<li>剥夺当前运行进程的CPU使用权必然需要保存进程的运行环境。</li>
<li>某进程开始运行前也必然要恢复其运行环境。</li>
</ul>
</li>
<li><p><strong>将PCB插入合适的队列</strong>。</p>
</li>
<li><p><strong>分配/回收资源</strong>。</p>
</li>
</ol>
<h2 id="1-4-进程通信"><a href="#1-4-进程通信" class="headerlink" title="1.4 进程通信"></a>1.4 进程通信</h2><p><strong>进程通信</strong>指进程之间的信息交换和传递。</p>
<p>进程是分配系统资源的单位，因此<strong>各进程拥有各自独立的内存空间</strong>。为了保证安全，一个进程不能直接访问另一个进程的地址空间，但是进程之间的信息交换又是必须的，操作系统提供了一些方法来保证进程间的安全通信。</p>
<ol>
<li><strong>共享存储</strong></li>
</ol>
<p>操作系统可以为两个进程提供一个<strong>共享空间</strong>，让两个进程都可以访问这个地址空间，但是访问必须是<strong>互斥</strong>的，操作系统负责提供共享空间同步和互斥的工具（比如P、V操作）。</p>
<p>具体分为：</p>
<ul>
<li>基于数据结构的共享：共享空间里规定只能放固定长度的固定数据结构。速度慢、限制多，低级通信方式。</li>
<li>基于存储区的共享：内存中划出一块共享存储区，数据形式、存放位置都由进程而不是操作系统控制。速度快，高级通信方式。</li>
</ul>
<ol start="2">
<li><strong>管道通信</strong></li>
</ol>
<p><strong>管道</strong>（pipe）是用于连接读写进程的一个共享文件，其实就是内存中开辟的一个固定的缓冲区。</p>
<ul>
<li>管道只能采用<strong>半双工通信</strong>，某一时间段只能单向传输。如果想双向传输，需要开辟两个管道。</li>
<li>各进程<strong>互斥</strong>访问管道。</li>
<li>数据以字符流形式写入管道，管道写满时，写进程的<code>write()</code>系统调用被阻塞，等待读进程读走，读完后管道变空，读进程的<code>read()</code>系统调用被阻塞。</li>
<li>如果<strong>没写满，不允许读</strong>。如果<strong>没读空，不允许写</strong>。</li>
<li>数据一旦被读出就被抛弃，所以<strong>读进程最多只能有一个</strong>，否则会读错数据导致丢失等错误。</li>
</ul>
<ol start="3">
<li><strong>消息传递</strong></li>
</ol>
<p>进程间的数据交换以格式化<strong>消息</strong>（Message）为单位，通过操作系统提供的「发送消息」/「接收消息」两个原语进行数据交换。</p>
<p>消息<strong>由消息头和消息体组成</strong>（参考网络的报文）。</p>
<p>具体分为：</p>
<ul>
<li>直接通信方式：消息直接传递到接收进程的缓冲队列上。</li>
<li>间接通信方式：消息先发送到中间实体（信箱）中，比如SMTP。</li>
</ul>
<h2 id="1-5-线程和多线程"><a href="#1-5-线程和多线程" class="headerlink" title="1.5 线程和多线程"></a>1.5 线程和多线程</h2><p><strong>线程</strong>（Thread）是一个<strong>基本的CPU执行单元</strong>，也是<strong>程序执行流的最小单位</strong>。引入线程后，不仅是进程之间可以并发，进程内的各线程之间也可以并发，进一步<strong>提升了系统的并发度</strong>。而且在引入线程后，<strong>进程只作为除CPU以外系统资源的分配单元</strong>，<strong>线程是调度的基本单元</strong>。</p>
<p><strong>线程的属性</strong>：</p>
<ul>
<li>线程是处理机调度的基本单位。</li>
<li>多核CPU中，各个线程可以同时占用不同的CPU。</li>
<li>每个线程都有一个线程ID和线程控制块TCB。</li>
<li>线程也有就绪、阻塞、运行三种基本状态。</li>
<li>线程几乎不拥有系统资源。</li>
<li>同一进程内的不同线程共享进程的资源。</li>
<li>由于线程会共享进程的内存地址空间，因此同一进程内的线程间通信无需操作系统干预。</li>
<li>同一进程内的线程切换，不会引起进程切换，不同进程的线程切换，会引起进程切换，切换同进程内的线程系统开销很小，但是切换进程开销较大。</li>
</ul>
<p><strong>线程的实现方式</strong>：</p>
<ul>
<li>用户级线程（User-Level Thread, ULT）：由应用程序通过线程库实现，所有线程管理工作由应用程序负责，线程切换在用户态下即可完成。</li>
<li>内核级线程（Kernel-Level Thread）：内核级线程的管理工作由操作系统内核完成，线程调度、切换等工作由内核负责，因此内核级线程切换必须在核心态下完成。</li>
</ul>
<p>操作系统只能「看见」内核级线程，因此<strong>只有内核级线程才是处理机分配的单位</strong>。所以通常采用二者组合的方式将用户级线程映射到内核级线程上。</p>
<p><img src="images/image-20220517094535237.png" alt="image-20220517094535237"></p>
<p>例如上图的示例中，即使该程序被放到4核心CPU上运行，也最多只能在2个核上并行执行，因为被映射分配到的内核级线程数只有2个。</p>
<p><strong>多线程模型</strong>：在同时支持用户级线程和内核级线程系统中，由几个用户级线程映射到几个内核级线程的问题引出的问题。</p>
<ul>
<li><strong>多对一</strong>模型：多个用户级线程映射到一个内核级线程，即每个用户进程只对应一个内核级线程。<ul>
<li>优点：用户级线程的切换在用户态完成，不需要切换到核心态，线程管理系统开销小，效率高。</li>
<li>缺点：一个用户级线程阻塞会导致整个进程阻塞，并发度不高，且多个线程不可以在多核CPU上并行执行。</li>
</ul>
</li>
<li><strong>一对一</strong>模型：每个用户级线程映射到一个内核级线程。<ul>
<li>优点：并发度高。</li>
<li>缺点：频繁切换到核心态，开销大。</li>
</ul>
</li>
<li><strong>多对多</strong>模型：n用户线程映射到m个内核级线程（n &gt;= m）。</li>
</ul>
<h1 id="2-调度"><a href="#2-调度" class="headerlink" title="2 调度"></a>2 调度</h1><h2 id="2-1-处理机调度的概念和层次"><a href="#2-1-处理机调度的概念和层次" class="headerlink" title="2.1 处理机调度的概念和层次"></a>2.1 处理机调度的概念和层次</h2><p><strong>调度</strong>（Scheduling）：有一堆任务要处理，系统资源又有限，需要按照某种规则来决定处理这些任务的顺序。</p>
<p>调度的三个层次：</p>
<ul>
<li><strong>高级调度（作业调度）</strong>：外存与内存之间的调度。按一定原则从外部存储设备上从处于后备队列的作业中挑选一个（或多个）作业，给他们分配内存等资源，并建立相应的PCB，使它们获得竞争处理机的权利。一个进程的高级调度调入调出都只有一次，调入时机由操作系统决定，调出时机必然是作业运行结束。</li>
<li><strong>中级调度（内存调度）</strong>：决定将哪个处于挂起状态的进程重新调入内存。引入虚拟存储技术后可以将暂时不能运行的进程调出至外存，等重新具备运行条件后再重新调入内存，目的是提高内存利用率和系统吞吐量。一个进程的中级调度调入调出都可能会发生多次，频率比高级调度要高。</li>
</ul>
<p>暂时被调入外存等待的进程进入<strong>挂起</strong>状态。进程的PCB不会一起被调入外存，而是常驻内存，被挂起进程的PCB进入到<strong>挂起队列</strong>。挂起状态又分为<strong>就绪挂起</strong>和<strong>阻塞挂起</strong>，因此还有<strong>进程的七状态模型</strong>：</p>
<p><img src="images/image-20220517101112961.png" alt="image-20220517101112961"></p>
<ul>
<li><strong>低级调度（进程调度）</strong>：按照特定的方法和策略从就绪队列中选取一个进程，将处理机资源分配给它。进程调度是操作系统最基本的调度，一般操作系统必须配备进程调度，且频率很高，几十ms就发生一次。</li>
</ul>
<p>三层调度的联系和对比：</p>
<p><img src="images/image-20220517101327777.png" alt="image-20220517101327777"></p>
<h2 id="2-2-进程调度的时机、切换与过程、方式"><a href="#2-2-进程调度的时机、切换与过程、方式" class="headerlink" title="2.2 进程调度的时机、切换与过程、方式"></a>2.2 进程调度的时机、切换与过程、方式</h2><p>进程调度的时机有两种情况：</p>
<ol>
<li>当前运行进程<strong>主动放弃</strong>处理机。<ul>
<li>进程正常终止</li>
<li>运行过程发生异常而终止</li>
<li>进程主动请求阻塞（如等待I/O）</li>
</ul>
</li>
<li>当前运行进程<strong>被动放弃</strong>处理机。<ul>
<li>分给进程的时间片用完</li>
<li>有更紧急的事需要处理（如I/O中断）</li>
<li>有更高优先级的进程进入就绪队列</li>
</ul>
</li>
</ol>
<p>不能进行进程调度与切换的情况：</p>
<ol>
<li><strong>处理中断</strong>的过程中。</li>
<li>进程<strong>在操作系统内核程序临界区</strong>中。</li>
<li>在<strong>原子操作（原语）</strong>过程中。</li>
</ol>
<p><strong>临界资源</strong>：一个时间段内只允许一个进程使用的资源。各进程需要互斥地访问临界资源。</p>
<p><strong>临界区</strong>（Critical section）：访问临界资源的那段代码。</p>
<p><strong>内核程序临界区</strong>一般是用来访问某种内核数据结构的，比如进程的就绪队列（存放各就绪进程的PCB）。内核程序临界区访问的临界资源如果不尽快释放极有可能影响操作系统内核的其他管理工作，因此访问内核程序临界资源期间不能进程调度与切换；但是普通临界区访问的临界资源不会直接影响操作系统内核的管理工作，因此访问普通临界区时可以进行调度与切换。</p>
<p>进程调度的方式分为：</p>
<ol>
<li><p><strong>非剥夺调度方式（非抢占式）</strong>：只允许进程主动放弃处理机。实现简单开销小但无法及时处理紧急任务，适合早期批处理系统。</p>
</li>
<li><p><strong>剥夺调度方式（抢占式）</strong>：更重要或紧急的进程需要使用处理机时立即暂停当前正在执行的进程，从而将处理机分配给更重要紧迫的那个进程。可以优先处理紧急任务，也可以按时间片轮流执行。适合分时和实时操作系统。</p>
</li>
</ol>
<p><strong>狭义的进程调度指选择一个进程到处理机执行，广义的进程调度包含选择一个进程执行和进程切换两个步骤</strong>，<strong>进程切换</strong>主要完成：</p>
<ol>
<li>对原来运行进程各种数据的保存；</li>
<li>对新的进程各种数据的恢复。</li>
</ol>
<p>进程切换是有代价的，频繁进行进程调度、切换会使得整个系统的效率降低，使大部分时间都花在切换进程调度和切换上，真正用于执行进程的时间则减少了。</p>
<h2 id="2-3-调度算法的评价指标"><a href="#2-3-调度算法的评价指标" class="headerlink" title="2.3 调度算法的评价指标"></a>2.3 调度算法的评价指标</h2><p><strong>CPU利用率</strong>：CPU忙碌时间占总时间的比例。<code>CPU忙碌时间 / 总时间</code></p>
<p><strong>系统吞吐量</strong>：单位时间内完成作业数量。<code>总共完成多少道作业 / 总共花了多少时间</code></p>
<p><strong>周转时间</strong>：</p>
<ul>
<li>周转时间：作业从被提交给系统开始到系统完成为止的时间间隔。<code>作业完成时间 - 作业提交时间</code></li>
<li>平均周转时间：<code>各作业周转时间之和 / 作业数</code></li>
<li>带权周转时间：<code>作业周转时间 / 作业实际运行时间</code></li>
<li>平均带权周转时间：<code>各作业带权周转时间之和 / 作业数</code></li>
</ul>
<p><strong>等待时间</strong>：进程/作业处于等待处理机状态的时间之和。</p>
<p><strong>响应时间</strong>：从用户提出请求到首次产生响应所用的时间。</p>
<h2 id="2-4-调度算法I"><a href="#2-4-调度算法I" class="headerlink" title="2.4 调度算法I"></a>2.4 调度算法I</h2><h3 id="2-4-1-先来先服务"><a href="#2-4-1-先来先服务" class="headerlink" title="2.4.1 先来先服务"></a>2.4.1 先来先服务</h3><p><strong>先来先服务FCFS，first come first serve</strong>：</p>
<ul>
<li>思想：主要从公平的角度考虑。</li>
<li>规则：按照作业/进程到达的先后顺序进行服务。</li>
<li>可用于作业调度，也可用于进程调度。用于作业调度时考虑哪个作业先到达后备队列，用于进程调度时考虑哪个进程先到达就绪队列。</li>
<li>非抢占式算法。</li>
<li>优点：公平，算法实现简单。</li>
<li>缺点：排在长作业后面的短作业需要等待很长时间，带权周转时间很大，<strong>对长作业有利，对短作业不利</strong>。</li>
<li>不会导致饥饿（指某进程/作业长期得不到服务）。</li>
</ul>
<p><img src="images/image-20220517112301753.png" alt="image-20220517112301753"></p>
<h3 id="2-4-2-短作业优先"><a href="#2-4-2-短作业优先" class="headerlink" title="2.4.2 短作业优先"></a>2.4.2 短作业优先</h3><p><strong>短作业优先SJF，shortest job first</strong>：</p>
<ul>
<li>思想：追求最少的平均等待时间、最少的平均周转时间、最少的平均带权周转时间。</li>
<li>规则：所需服务时间最短的作业/进程先得到服务。</li>
<li>可用于作业调度，也可用于进程调度。用于进程调度时称为SPF。</li>
<li>非抢占式算法。但也有抢占式版本——<strong>最短剩余时间优先算法SRTN，shortest remaining time next</strong>。</li>
<li>优点：可以得到最短的平均等待时间、平均周转时间。</li>
<li>缺点：不公平。<strong>对短作业有利，对长作业不利</strong>。</li>
<li>会导致饥饿。如果短作业源源不断到来，长作业就长时间得不到服务，饥饿时间过长，直接饿死。</li>
</ul>
<p><img src="images/image-20220517113110170.png" alt="image-20220517113110170"></p>
<p><img src="images/image-20220517113347721.png" alt="image-20220517113347721"></p>
<p><img src="images/image-20220517113507778.png" alt="image-20220517113507778"></p>
<h3 id="2-4-3-高响应比优先"><a href="#2-4-3-高响应比优先" class="headerlink" title="2.4.3 高响应比优先"></a>2.4.3 高响应比优先</h3><p><strong>高响应比优先HRRN，highest response ratio next</strong>：</p>
<ul>
<li>思想：综合考虑作业/进程的等待时间和要求服务的时间。</li>
<li>规则：每次调度时计算各个作业/进程的响应比，选择响应比最高的作业/进程为其服务。<code>响应比 = （等待时间 + 要求服务时间） / 要求服务时间</code></li>
<li>可用于作业调度，也可用于进程调度。</li>
<li>非抢占式算法。只有当前运行作业/进程主动放弃处理机时，才需要调度和计算响应比。</li>
<li>优点：综合考虑了等待时间和运行时间。等待时间相同时，要求服务时间短的优先（SJF的优点）；要求服务时间相同时，等待时间长的优先（FCFS的优点）。</li>
<li>不会导致饥饿。对于长作业，随着等待时间越来越久，响应比越来越大，更容易被调度，避免了长作业的饥饿问题。</li>
</ul>
<p><img src="images/image-20220517201316956.png" alt="image-20220517201316956"></p>
<p>注意：这几种算法主要关心对用户的公平性、平均周转时间、平均等待时间等评价系统整体性能的指标，但是不关心响应时间，也不区分任务的紧急程度，对于用户来说交互性很糟糕。因此这三种算法都更适合于早期的批处理系统，FCFS算法现在还能结合其他算法一起使用。</p>
<h2 id="2-5-调度算法II"><a href="#2-5-调度算法II" class="headerlink" title="2.5 调度算法II"></a>2.5 调度算法II</h2><h3 id="2-5-1-时间片轮转"><a href="#2-5-1-时间片轮转" class="headerlink" title="2.5.1 时间片轮转"></a>2.5.1 时间片轮转</h3><p>时间片轮转RR，round-robin：</p>
<ul>
<li>思想：公平地、轮流地为各个进程服务，让每个进程在一定时间间隔内都可以得到响应。</li>
<li>规则：按照各进程到达就绪队列的顺序，轮流让各个进程执行一个时间片（如100ms）。若进程未在一个时间片内执行完，则剥夺其处理机执行权，将进程重新放到就绪队列尾部重新排队。</li>
<li>用于进程调度。只有作业让入内存建立好相应的进程后，才能被分配处理机时间片。</li>
<li>抢占式算法。进程未在时间片内执行完就会被剥夺处理机执行权，由时钟装置发出时钟中断来通知CPU时间片已到。</li>
<li>优点：公平，响应快，适用于分时操作系统。</li>
<li>缺点：高频率的进程切换，有一定的开销，且没有区分任务紧急程度。</li>
<li>不会导致饥饿。</li>
</ul>
<p><img src="images/image-20220517203855299.png" alt="image-20220517203855299"></p>
<p><img src="images/image-20220517203940168.png" alt="image-20220517203940168"></p>
<p>注意：</p>
<ul>
<li>若时间片太大，每个进程都可以在一个时间片完成，时间片轮转算法退化为先来先服务算法，会增大进程响应时间。</li>
<li>若时间片太小，进程调度、切换频繁发生，系统花费大量时间和资源来处理进程切换，实际用于进程执行的时间会减少。</li>
</ul>
<h3 id="2-5-2-优先级调度"><a href="#2-5-2-优先级调度" class="headerlink" title="2.5.2 优先级调度"></a>2.5.2 优先级调度</h3><ul>
<li>思想：实时操作系统的出现使得越来越多的场景需要根据任务的紧急程度来决定处理顺序。</li>
<li>规则：调度时选择优先级更高的作业/进程。</li>
<li>可用于作业调度，也可用于进程调度，甚至还可以用于I/O调度。</li>
<li>抢占式、非抢占式都有。非抢占式只需在进程主动放弃处理机时进行调度；抢占式需要在就绪队列变化时检查是否发生抢占。</li>
<li>优点：用优先级区分紧急程度、重要程度，适用于实时操作系统，可灵活调整对各种作业/进程的偏好程度。</li>
<li>会导致饥饿。</li>
</ul>
<p><img src="images/image-20220518085026377.png" alt="image-20220518085026377"></p>
<p><img src="images/image-20220518085127446.png" alt="image-20220518085127446"></p>
<p>就绪队列未必只有一个，可以按照不同优先级来组织不同队列，也可以把优先级更高的进程排在更靠近队头的位置。</p>
<p>根据优先级是否可以动态改变，可以将优先级分为静态优先级和动态优先级两种。</p>
<ul>
<li>静态优先级：创建进程时确定优先级，之后不改变。</li>
<li>动态优先级：创建进程时有一个初始优先级，之后根据情况动态调整优先级。</li>
</ul>
<p>一般来说：</p>
<ul>
<li>系统进程优先级高于用户进程。</li>
<li>前台进程优先级高于后台进程。</li>
</ul>
<p>因此在确定优先级时：</p>
<ul>
<li>操作系统更偏好I/O繁忙型进程，而不是CPU繁忙型进程。I/O设备可以和CPU设备并行工作，I/O繁忙型进程优先级越高越能更早让I/O设备开始工作，提高资源利用率和系统吞吐量。</li>
<li>采用动态优先级策略。如果某进程在就绪队列等待时间过长，可以适当提高其优先级；如果某进程占据处理机很长时间，可以适当降低其优先级；如果发现一个进程频繁进行I/O操作，可以适当提高其优先级。</li>
</ul>
<h3 id="2-5-3-多级反馈队列调度"><a href="#2-5-3-多级反馈队列调度" class="headerlink" title="2.5.3 多级反馈队列调度"></a>2.5.3 多级反馈队列调度</h3><ul>
<li>思想：对之前调度算法的折中权衡。</li>
<li>规则：<ol>
<li>设置多级就绪队列，各级队列优先级从高到低，时间片从小到大；</li>
<li>新进程到达时先进入第1级队列，按FCFS原则排队等待被分配时间片；</li>
<li>若用完时间片进程还未执行完成，则进入下一级队列队尾。如此时已经在最下级别队列，则重新放回该队列队尾。</li>
<li>只有第k级队列为空时，才会为k+1级队列进程分配时间片。</li>
</ol>
</li>
<li>用于进程调度。</li>
<li>抢占式算法。在k级队列的进程运行过程中，如果更上级的队列进入了一个新进程，此新进程会抢占处理机，原来第k级队列运行的进程会放回k级队列队尾。</li>
<li>优点：对各类型进程相对公平（FCFS）；每个新到达进程可以很快得到响应（RR）；短进程只用较少时间就能完成（SPF）；不必估计进程运行时间（避免HRRN中用户做假）；可以灵活调整对各类进程的偏好程度（优先级调度）。</li>
<li>会导致饥饿。</li>
</ul>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1YE411D7nH?p=17&t=1791.3">多级反馈队列调度算法实例</a></p>
</blockquote>
<p><img src="images/image-20220518112541851.png" alt="image-20220518112541851"></p>
<p>比起上一节的三种算法，以上三种算法更加适合于交互式系统，比如UNIX使用的就是多级反馈队列调度算法。</p>
<h1 id="3-进程同步与互斥"><a href="#3-进程同步与互斥" class="headerlink" title="3 进程同步与互斥"></a>3 进程同步与互斥</h1><h2 id="3-1-同步、互斥问题"><a href="#3-1-同步、互斥问题" class="headerlink" title="3.1 同步、互斥问题"></a>3.1 同步、互斥问题</h2><p><strong>同步</strong>又称为<strong>直接制约关系</strong>，指为完成某种任务而建立的两个或更多进程之间因为需要在某些位置上协调工作次序而产生的制约关系，这种制约关系源自于它们之间的相互合作。</p>
<p>对<strong>临界资源</strong>的访问必须<strong>互斥</strong>进行，互斥也称为<strong>间接制约关系</strong>，指当一个进程访问某临界资源时，另一个想要访问该临界资源的进程必须等待当前进程访问结束释放该资源后，再去访问。</p>
<p>对临界资源的互斥访问逻辑上可以为4部分：</p>
<p><img src="images/image-20220518113814973.png" alt="image-20220518113814973"></p>
<p>为了实现对临界资源的互斥访问，同时保证系统整体性能，需要遵循以下原则：</p>
<ol>
<li><strong>空闲让进</strong>。临界区空闲时，可以允许一个请求进入临界区的进程立即进入临界区。</li>
<li><strong>忙则等待</strong>。当已有进程进入临界区时，其他试图进入临界区的进程必须等待。</li>
<li><strong>有限等待</strong>。对请求访问的进程，应保证能在有限时间内进入临界区。</li>
<li><strong>让权等待</strong>。当进程不能进入临界区时，应立即释放处理机，防止进程占据处理机的同时等待。</li>
</ol>
<h2 id="3-2-进程互斥的软件实现方法"><a href="#3-2-进程互斥的软件实现方法" class="headerlink" title="3.2 进程互斥的软件实现方法"></a>3.2 进程互斥的软件实现方法</h2><h3 id="3-2-1-单标志法"><a href="#3-2-1-单标志法" class="headerlink" title="3.2.1 单标志法"></a>3.2.1 单标志法</h3><p><img src="images/image-20220518114458834.png" alt="image-20220518114458834"></p>
<h3 id="3-2-2-双标志先检查法"><a href="#3-2-2-双标志先检查法" class="headerlink" title="3.2.2 双标志先检查法"></a>3.2.2 双标志先检查法</h3><p><img src="images/image-20220518114857436.png" alt="image-20220518114857436"></p>
<h3 id="3-2-3-双标志后检查法"><a href="#3-2-3-双标志后检查法" class="headerlink" title="3.2.3 双标志后检查法"></a>3.2.3 双标志后检查法</h3><p><img src="images/image-20220518115039800.png" alt="image-20220518115039800"></p>
<h3 id="3-2-4-Peterson算法"><a href="#3-2-4-Peterson算法" class="headerlink" title="3.2.4 Peterson算法"></a>3.2.4 Peterson算法</h3><p><img src="images/image-20220518115443798.png" alt="image-20220518115443798"></p>
<h2 id="3-3-进程互斥的硬件实现方法"><a href="#3-3-进程互斥的硬件实现方法" class="headerlink" title="3.3 进程互斥的硬件实现方法"></a>3.3 进程互斥的硬件实现方法</h2><h3 id="3-3-1-中断屏蔽方法"><a href="#3-3-1-中断屏蔽方法" class="headerlink" title="3.3.1 中断屏蔽方法"></a>3.3.1 中断屏蔽方法</h3><p><img src="images/image-20220518115900005.png" alt="image-20220518115900005"></p>
<h3 id="3-3-2-TestAndSet指令"><a href="#3-3-2-TestAndSet指令" class="headerlink" title="3.3.2 TestAndSet指令"></a>3.3.2 TestAndSet指令</h3><p><img src="images/image-20220518120236214.png" alt="image-20220518120236214"></p>
<h3 id="3-3-3-Swap指令"><a href="#3-3-3-Swap指令" class="headerlink" title="3.3.3 Swap指令"></a>3.3.3 Swap指令</h3><p><img src="images/image-20220518120439072.png" alt="image-20220518120439072"></p>
<h2 id="3-4-信号量机制"><a href="#3-4-信号量机制" class="headerlink" title="3.4 信号量机制"></a>3.4 信号量机制</h2><p>上两节提出了4种软件实现方法和3种硬件实现方法，其中单标志、双标志先检查、双标志后检查都存在严重缺陷，Peterson算法和3种硬件实现方法又都无法实现「让权等待」，因此1965年Dijkstra提出了<strong>信号量机制</strong>：用户可以通过<strong>使用操作系统提供的一对原语来对信号量进行操作</strong>，从而实现进程同步与互斥。</p>
<p><strong>信号量</strong>是一个变量（可以为整数，也可以为更复杂的记录型变量）。比如可以用一个整数信号量来<strong>表示系统中某种资源的数量</strong>，例如系统中只有一台打印机，就设置一个初始值为1的信号量。</p>
<p><strong>一对原语</strong>：<code>wait(S)</code>和<code>signal(S)</code>。可以理解为一个函数，其中S是传入的参数。<code>wait(S)</code>和<code>signal(S)</code>也可以简称为<code>P(S)</code>、<code>V(S)</code>操作（荷兰语proberen和verhogen）。</p>
<h3 id="3-4-1-整型信号量"><a href="#3-4-1-整型信号量" class="headerlink" title="3.4.1 整型信号量"></a>3.4.1 整型信号量</h3><p><img src="images/image-20220518124844069.png" alt="image-20220518124844069"></p>
<h3 id="3-4-2-记录型信号量"><a href="#3-4-2-记录型信号量" class="headerlink" title="3.4.2 记录型信号量"></a>3.4.2 记录型信号量</h3><p><img src="images/image-20220518125235099.png" alt="image-20220518125235099"></p>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1YE411D7nH?p=21&t=971.7">记录型信号量实例</a></p>
</blockquote>
<p><img src="images/image-20220518130314645.png" alt="image-20220518130314645"></p>
<h2 id="3-5-用信号量机制实现进程互斥、同步、前驱"><a href="#3-5-用信号量机制实现进程互斥、同步、前驱" class="headerlink" title="3.5 用信号量机制实现进程互斥、同步、前驱"></a>3.5 用信号量机制实现进程互斥、同步、前驱</h2><p><strong>信号量机制实现进程互斥</strong>：</p>
<p><img src="images/image-20220518130722452.png" alt="image-20220518130722452"></p>
<p><strong>信号量机制实现进程同步</strong>：</p>
<p><img src="images/image-20220518131042238.png" alt="image-20220518131042238"></p>
<p><strong>信号量机制实现进程前驱关系</strong>：</p>
<p><img src="images/image-20220518131401177.png" alt="image-20220518131401177"></p>
<p>总结：</p>
<ul>
<li>实现互斥：设置初始值为<code>1</code>的互斥信号量。</li>
<li>实现同步：设置初始值为<code>0</code>的同步信号量。</li>
<li>对同一类系统资源的申请和释放：设置初始值为<code>资源数量</code>的信号量。</li>
</ul>
<h2 id="3-6-生产者-消费者问题"><a href="#3-6-生产者-消费者问题" class="headerlink" title="3.6 生产者-消费者问题"></a>3.6 生产者-消费者问题</h2><p>系统中有<strong>一组生产者进程</strong>和<strong>一组消费者进程</strong>，生产者进程每生产一个产品就将该产品放入缓冲区，消费进程每从缓冲区取出一个产品就可以使用。</p>
<p>问题前提与分析：</p>
<ul>
<li>生产者、消费者共享一个初始为空，大小为<code>n</code>的缓冲区。</li>
<li>只有缓冲区满时，生产者才能把产品放入缓冲区，否则必须等待。 -&gt; 同步关系</li>
<li>只有缓冲区不空时，消费者才能从缓冲区取走产品，否则必须等待。 -&gt; 同步关系</li>
<li>缓冲区是临界资源，各进程必须互斥访问。 -&gt; 互斥关系。</li>
</ul>
<pre><code class="c">// 互斥信号量：表示对缓冲区的互斥访问。
semaphore mutex = 1;
// 同步信号量：表示空闲缓冲区的数量。
semaphore empty = n;
// 同步信号量：表示非空闲缓冲区即产品的数量。
semaphore full = 0;

producer() &#123;
  while (1) &#123;
    生产1个产品;
    P(empty);
    P(mutex);
    把产品放入缓冲区;
    V(mutex);
    V(full);
  &#125;
&#125;

consumer() &#123;
  while (1) &#123;
    P(full);
    P(mutex);
    从缓冲区取走一个产品;
    V(mutex);
    V(empty);
    使用产品;
  &#125;
&#125;</code></pre>
<p>注意：</p>
<ul>
<li>实现<strong>互斥的P、V操作在同一进程</strong>中。</li>
<li>实现<strong>同步的P、V操作在不同进程</strong>中。</li>
<li>缓冲区必须有剩余才能生产者 -&gt; 消费者，缓冲区必须有产品才能消费者 -&gt; 生产者，这是两组前驱关系，因此需要两个同步信号量。</li>
</ul>
<p>思考：能否改变相邻P、V操作的顺序？</p>
<ul>
<li><p><strong>实现互斥的P操作一定要在实现同步的P操作之后</strong>！当产品放满后，生产者先<code>P(mutex)</code>，然后<code>P(empty)</code>进入阻塞，消费者<code>P(mutex)</code>直接阻塞，形成死锁，产品为空时同理。</p>
</li>
<li><p>V操作不会让进程阻塞，所以操作顺序可以交换。</p>
</li>
</ul>
<p>思考：<code>使用产品</code>能否放在P、V之间？</p>
<ul>
<li>不太行，会让临界区变得臃肿，耗费更多时间，降低了并发度。</li>
</ul>
<h2 id="3-7-多生产者-多消费者问题"><a href="#3-7-多生产者-多消费者问题" class="headerlink" title="3.7 多生产者-多消费者问题"></a>3.7 多生产者-多消费者问题</h2><p><img src="images/image-20220518214256243.png" alt="image-20220518214256243"></p>
<p><img src="images/image-20220518214339329.png" alt="image-20220518214339329"></p>
<p><img src="images/image-20220518214434363.png" alt="image-20220518214434363"></p>
<p><img src="images/image-20220518214509741.png" alt="image-20220518214509741"></p>
<h2 id="3-8-吸烟者问题"><a href="#3-8-吸烟者问题" class="headerlink" title="3.8 吸烟者问题"></a>3.8 吸烟者问题</h2><p><img src="images/image-20220518214906163.png" alt="image-20220518214906163"></p>
<p><img src="images/image-20220518215243333.png" alt="image-20220518215243333"></p>
<h2 id="3-9-读者-写者问题"><a href="#3-9-读者-写者问题" class="headerlink" title="3.9 读者-写者问题"></a>3.9 读者-写者问题</h2><p><img src="images/image-20220518215545117.png" alt="image-20220518215545117"></p>
<p><img src="images/image-20220518215736195.png" alt="image-20220518215736195"></p>
<p><img src="images/image-20220518220046171.png" alt="image-20220518220046171"></p>
<p><img src="images/image-20220518220351008.png" alt="image-20220518220351008"></p>
<h2 id="3-10-哲学家吃饭问题"><a href="#3-10-哲学家吃饭问题" class="headerlink" title="3.10 哲学家吃饭问题"></a>3.10 哲学家吃饭问题</h2><p><img src="images/image-20220518221001204.png" alt="image-20220518221001204"></p>
<p><img src="images/image-20220518221027558.png" alt="image-20220518221027558"></p>
<p><img src="images/image-20220518221328314.png" alt="image-20220518221328314"></p>
<h2 id="3-11-管程"><a href="#3-11-管程" class="headerlink" title="3.11 管程"></a>3.11 管程</h2><p>信号量机制存在一些缺点，编写程序困难，容易出错，比如要考虑同步信号量和互斥信号量的操作先后顺序。因此管程被提出用来方便程序编序。</p>
<p><strong>管程</strong>（Monitor）是一种特殊的软件模块，由以下部分组成：</p>
<ul>
<li>局部于管程的<strong>共享数据结构</strong>说明；</li>
<li>对该数据结构进行操作的<strong>一组过程</strong>（方法，函数）；</li>
<li>对局部于管程的共享数据<strong>设置初始值的语句</strong>（构造器）；</li>
<li>管程有一个<strong>名字</strong>。</li>
</ul>
<p>管程的基本特征：</p>
<ul>
<li>局部于管程的数据只能被局部于管程的过程所访问。</li>
<li>一个进程<strong>只有通过调用管程内的过程才能进入管程访问共享数据</strong>。</li>
<li><strong>每次仅允许一个进程在管程内执行某个内部过程</strong>。</li>
</ul>
<p>对管程的理解，可以复习Java多线程中的线程同步问题，以及<code>synchronized</code>关键字或<strong>同步监视器</strong>的使用。</p>
<h1 id="4-死锁"><a href="#4-死锁" class="headerlink" title="4 死锁"></a>4 死锁</h1><h2 id="4-1-死锁的概念"><a href="#4-1-死锁的概念" class="headerlink" title="4.1 死锁的概念"></a>4.1 死锁的概念</h2><p>哲学家进餐问题中如果每个哲学家都先拿起左手筷子，然后想要拿起右手筷子时都进入阻塞状态，这种循环等待的情况就称为死锁。</p>
<p><strong>死锁</strong>（Deadlock）：<strong>各进程互相等待对方手里的资源，导致各个进程都阻塞</strong>，无法向前推进的现象。</p>
<p>和饥饿、死循环的区别：</p>
<ul>
<li>饥饿：进程长期得不到想要的资源所以无法向前推进的现象。比如短进程优先SPF调度算法中，源源不断到来的短进程会让长进程处于饥饿状态。</li>
<li>死循环：某进程在内部执行过程中在循环中无法跳出，有时因为程序逻辑bug，有时是程序员故意设计。</li>
<li>死锁至少有两个或两个以上的进程参与并一起发生死锁，死锁的进程一定处于阻塞态。</li>
<li>饥饿可能只有一个进程，饥饿进程可以处于阻塞态，也可以处于就绪态。</li>
<li>死循环可能只有一个进程，而且该进程可以处于运行态。</li>
<li>死锁和饥饿是管理者OS层面的问题，死循环是被管理者的问题。</li>
</ul>
<p><strong>死锁产生的必要条件</strong>：</p>
<ol>
<li><strong>互斥条件</strong>：只有对必须互斥使用资源的争抢才会导致死锁。</li>
<li><strong>不剥夺条件</strong>：进程所获得资源在未使用完之前，不能由其他进程强行夺走，只能主动释放。</li>
<li><strong>请求保持条件</strong>：进程已经持有了至少一个资源，但又提出新的资源请求，而该资源被其他进程占有，此时请求不成功被阻塞，但是仍不放弃自己已持有的资源。</li>
<li><strong>循环等待资源</strong>：存在一种进程资源的循环等待链。</li>
</ol>
<p>什么时候发生死锁？</p>
<ol>
<li>对系统资源的竞争。主要是对不可剥夺资源的竞争，而对可剥夺资源比如CPU的竞争是不会引起死锁的。</li>
<li>进程推进顺序非法，即请求和释放资源的顺序不当，比如哲学家问题先拿做筷子再拿右筷子。</li>
<li>信号量使用不当。比如生产者-消费者问题同步信号量和互斥信号量P操作的先后顺序问题。</li>
</ol>
<p><strong>死锁的处理策略</strong>：</p>
<ol>
<li>预防死锁。破坏死锁产生的四个必要条件中的一个或几个。</li>
<li>避免死锁。用某种算法防止系统进入不安全可能死锁的状态。</li>
<li>死锁的检测和解除。允许死锁发生，但是OS要负责监测出死锁的发生并采取措施解决。</li>
</ol>
<h2 id="4-2-预防死锁"><a href="#4-2-预防死锁" class="headerlink" title="4.2 预防死锁"></a>4.2 预防死锁</h2><ol>
<li><strong>破坏互斥条件</strong></li>
</ol>
<p>如果把只能互斥使用的资源改造为允许共享使用，就不会进入死锁，比如<strong>SPOOLing技术</strong>。</p>
<p>缺点：并不是所有资源都能改造为共享使用资源，而且为了系统安全很多时候还必须保护互斥性，因此破坏互斥条件大多是不现实的。</p>
<ol start="2">
<li><strong>破坏不剥夺条件</strong></li>
</ol>
<p>方案一：当某个进程请求新资源得不到满足时，必须立即释放持有的所有资源，待以后需要再重新申请。</p>
<p>方案二：当某个进程请求的资源被其他进程占有时，操作系统可以协助将想要的资源强行剥夺。</p>
<p>缺点：</p>
<ul>
<li>实现复杂；</li>
<li>释放已获得资源可能导致前一阶段的工作失效，因此这种方法一般只适用于易保存和恢复状态的资源，比如CPU；</li>
<li>反复申请和释放资源会增加系统开销；</li>
<li>方案一还会导致进程饥饿。</li>
</ul>
<ol start="3">
<li><strong>破坏请求保持条件</strong></li>
</ol>
<p>可以采用静态分配方法：进程在运行前一次性申请完所需要的全部资源，得不到满足就先不投入运行，投入运行后保持对资源的占有，且不再申请新的资源。</p>
<p>缺点：进程运行期间对资源持续占有会使资源利用率变得极低，长时间运行的进程还可能导致其他一直申请不到资源的进程饥饿。</p>
<ol start="4">
<li><strong>破坏循环等待条件</strong></li>
</ol>
<p>可以采用顺序资源分配法：给系统资源编号，规定每个进程必须按编号递增的顺序请求资源，同类（编号相同）资源一次申请完。</p>
<p>原理：占有小编号资源的进程才有资格申请大编号，占有大编号资源的进程不会逆向回来申请小编号资源，从而避免了循环等待。</p>
<p>缺点：</p>
<ul>
<li>不方便增加设备，需要对所有设备重新编号；</li>
<li>进程实际使用资源顺序和资源编号顺序不可能完全一致，先申请用不到的资源会让资源长时间空闲，降低利用率；</li>
<li>必须按编号递增申请还使得编程困难，不同机器上还得修改代码中资源编号和申请顺序。</li>
</ul>
<h2 id="4-3-避免死锁"><a href="#4-3-避免死锁" class="headerlink" title="4.3 避免死锁"></a>4.3 避免死锁</h2><p><strong>安全序列</strong>：系统按照一种顺序分配资源，使每个进程都能顺利完成。</p>
<p>只要能找出一个安全序列，系统就是<strong>安全状态</strong>，安全序列可能有一个或多个。如果分配资源后系统找不到任何一个安全序列，系统就进入<strong>不安全状态</strong>，之后可能所有进程都无法顺利执行。当然，如果过程中有进程归还了资源，系统也可能重新回到安全状态，但是分配资源之前考虑的往往要是最坏的情况。</p>
<p>安全状态的系统一定不会发生死锁，不安全状态的系统可能会发生死锁。因此<strong>在资源分配之前可以预先判断这次分配是否会导致系统进入不安全状态</strong>，以此决定是否答应资源分配请求。这也是银行家算法的核心思想。</p>
<p><strong>银行家算法</strong>（Banker’s Algorithm）由Dijkstra为银行系统设计，后用于操作系统来避免死锁。</p>
<p>核心思想：在进程提出资源申请时，先预判此次分配是否会导致系统进入不安全状态。如果会进入不安全状态就暂时拒绝此次申请，让该进程阻塞等待。</p>
<blockquote>
<p> <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1YE411D7nH?p=31&t=588.4">银行家算法实例</a></p>
</blockquote>
<p><img src="images/image-20220519130353758.png" alt="image-20220519130353758"></p>
<p><img src="images/image-20220519130450673.png" alt="image-20220519130450673"></p>
<h2 id="4-4-死锁的检测和解除"><a href="#4-4-死锁的检测和解除" class="headerlink" title="4.4 死锁的检测和解除"></a>4.4 死锁的检测和解除</h2><p>为了能对死锁进行检测，必须：</p>
<ol>
<li>提供某种<strong>数据结构来保存资源的请求和分配信息</strong>；</li>
<li>提供一种<strong>算法利用上述信息检测判断系统是否进入死锁状态</strong>。</li>
</ol>
<p><img src="images/image-20220519130732964.png" alt="image-20220519130732964"></p>
<p><img src="images/image-20220519131022364.png" alt="image-20220519131022364"></p>
<p><img src="images/image-20220519131130418.png" alt="image-20220519131130418"></p>
<p>死锁的解除方法有：</p>
<ol>
<li>资源剥夺法。挂起（暂时放到外存上）某些死锁进程，并抢占它的资源，将这些资源分配给其它死锁进程，但是要防止被挂起的进程长时间得不到资源而饥饿。</li>
<li>撤销进程法。强制撤销部分、甚至全部死锁进程，并剥夺这些进程的资源。优点是实现简单，但所付出的代价可能会很大。因为有些进程可能已经运行了很长时间，接近结束了，一旦被终止功亏一篑。</li>
<li>进程回退法。让一个或多个死锁进程回退到足以避免死锁的地步。要求系统记录进程的历史信息，设置还原点。</li>
</ol>
<hr>
<blockquote>
<p>参考资料：<a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1YE411D7nH">王道计算机考研 操作系统</a></p>
</blockquote>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2022年05月19日 13:18</p>
        <p>原始链接： <a class="post-url" href="/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" title="操作系统Part2：进程管理">http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/</a></p>
        <footer>
            <a href="http://muquanrui.com">
                <img src="/images/logo.png" alt="MU Quanrui">
                MU Quanrui
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我吃糖~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/&title=《操作系统Part2：进程管理》 — Quanrui's Blog&pic=cover.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/&title=《操作系统Part2：进程管理》 — Quanrui's Blog&source=Carpe diem." data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《操作系统Part2：进程管理》 — Quanrui's Blog&url=http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/&via=http://muquanrui.com" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://muquanrui.com/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart2%EF%BC%9A%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%86/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/操作系统/" class="color5">操作系统</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
        <div class= "post-toc-name">Table of Contents</div>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#1-%E8%BF%9B%E7%A8%8B%E4%B8%8E%E7%BA%BF%E7%A8%8B"><span class="post-toc-text">1 进程与线程</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-1-%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%AE%9A%E4%B9%89%E3%80%81%E7%BB%84%E6%88%90%E3%80%81%E7%BB%84%E7%BB%87%E6%96%B9%E5%BC%8F%E5%92%8C%E7%89%B9%E5%BE%81"><span class="post-toc-text">1.1 进程的定义、组成、组织方式和特征</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-2-%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%8A%B6%E6%80%81%E4%B8%8E%E8%BD%AC%E6%8D%A2"><span class="post-toc-text">1.2 进程的状态与转换</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-3-%E8%BF%9B%E7%A8%8B%E7%9A%84%E6%8E%A7%E5%88%B6"><span class="post-toc-text">1.3 进程的控制</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-4-%E8%BF%9B%E7%A8%8B%E9%80%9A%E4%BF%A1"><span class="post-toc-text">1.4 进程通信</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#1-5-%E7%BA%BF%E7%A8%8B%E5%92%8C%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="post-toc-text">1.5 线程和多线程</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#2-%E8%B0%83%E5%BA%A6"><span class="post-toc-text">2 调度</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-1-%E5%A4%84%E7%90%86%E6%9C%BA%E8%B0%83%E5%BA%A6%E7%9A%84%E6%A6%82%E5%BF%B5%E5%92%8C%E5%B1%82%E6%AC%A1"><span class="post-toc-text">2.1 处理机调度的概念和层次</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-2-%E8%BF%9B%E7%A8%8B%E8%B0%83%E5%BA%A6%E7%9A%84%E6%97%B6%E6%9C%BA%E3%80%81%E5%88%87%E6%8D%A2%E4%B8%8E%E8%BF%87%E7%A8%8B%E3%80%81%E6%96%B9%E5%BC%8F"><span class="post-toc-text">2.2 进程调度的时机、切换与过程、方式</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-3-%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95%E7%9A%84%E8%AF%84%E4%BB%B7%E6%8C%87%E6%A0%87"><span class="post-toc-text">2.3 调度算法的评价指标</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-4-%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95I"><span class="post-toc-text">2.4 调度算法I</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-1-%E5%85%88%E6%9D%A5%E5%85%88%E6%9C%8D%E5%8A%A1"><span class="post-toc-text">2.4.1 先来先服务</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-2-%E7%9F%AD%E4%BD%9C%E4%B8%9A%E4%BC%98%E5%85%88"><span class="post-toc-text">2.4.2 短作业优先</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-4-3-%E9%AB%98%E5%93%8D%E5%BA%94%E6%AF%94%E4%BC%98%E5%85%88"><span class="post-toc-text">2.4.3 高响应比优先</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#2-5-%E8%B0%83%E5%BA%A6%E7%AE%97%E6%B3%95II"><span class="post-toc-text">2.5 调度算法II</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-1-%E6%97%B6%E9%97%B4%E7%89%87%E8%BD%AE%E8%BD%AC"><span class="post-toc-text">2.5.1 时间片轮转</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-2-%E4%BC%98%E5%85%88%E7%BA%A7%E8%B0%83%E5%BA%A6"><span class="post-toc-text">2.5.2 优先级调度</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-5-3-%E5%A4%9A%E7%BA%A7%E5%8F%8D%E9%A6%88%E9%98%9F%E5%88%97%E8%B0%83%E5%BA%A6"><span class="post-toc-text">2.5.3 多级反馈队列调度</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#3-%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5%E4%B8%8E%E4%BA%92%E6%96%A5"><span class="post-toc-text">3 进程同步与互斥</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-1-%E5%90%8C%E6%AD%A5%E3%80%81%E4%BA%92%E6%96%A5%E9%97%AE%E9%A2%98"><span class="post-toc-text">3.1 同步、互斥问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-2-%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5%E7%9A%84%E8%BD%AF%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="post-toc-text">3.2 进程互斥的软件实现方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-1-%E5%8D%95%E6%A0%87%E5%BF%97%E6%B3%95"><span class="post-toc-text">3.2.1 单标志法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-2-%E5%8F%8C%E6%A0%87%E5%BF%97%E5%85%88%E6%A3%80%E6%9F%A5%E6%B3%95"><span class="post-toc-text">3.2.2 双标志先检查法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-3-%E5%8F%8C%E6%A0%87%E5%BF%97%E5%90%8E%E6%A3%80%E6%9F%A5%E6%B3%95"><span class="post-toc-text">3.2.3 双标志后检查法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-2-4-Peterson%E7%AE%97%E6%B3%95"><span class="post-toc-text">3.2.4 Peterson算法</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-3-%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5%E7%9A%84%E7%A1%AC%E4%BB%B6%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="post-toc-text">3.3 进程互斥的硬件实现方法</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-3-1-%E4%B8%AD%E6%96%AD%E5%B1%8F%E8%94%BD%E6%96%B9%E6%B3%95"><span class="post-toc-text">3.3.1 中断屏蔽方法</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-3-2-TestAndSet%E6%8C%87%E4%BB%A4"><span class="post-toc-text">3.3.2 TestAndSet指令</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-3-3-Swap%E6%8C%87%E4%BB%A4"><span class="post-toc-text">3.3.3 Swap指令</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-4-%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6"><span class="post-toc-text">3.4 信号量机制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-4-1-%E6%95%B4%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="post-toc-text">3.4.1 整型信号量</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#3-4-2-%E8%AE%B0%E5%BD%95%E5%9E%8B%E4%BF%A1%E5%8F%B7%E9%87%8F"><span class="post-toc-text">3.4.2 记录型信号量</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-5-%E7%94%A8%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6%E5%AE%9E%E7%8E%B0%E8%BF%9B%E7%A8%8B%E4%BA%92%E6%96%A5%E3%80%81%E5%90%8C%E6%AD%A5%E3%80%81%E5%89%8D%E9%A9%B1"><span class="post-toc-text">3.5 用信号量机制实现进程互斥、同步、前驱</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-6-%E7%94%9F%E4%BA%A7%E8%80%85-%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="post-toc-text">3.6 生产者-消费者问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-7-%E5%A4%9A%E7%94%9F%E4%BA%A7%E8%80%85-%E5%A4%9A%E6%B6%88%E8%B4%B9%E8%80%85%E9%97%AE%E9%A2%98"><span class="post-toc-text">3.7 多生产者-多消费者问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-8-%E5%90%B8%E7%83%9F%E8%80%85%E9%97%AE%E9%A2%98"><span class="post-toc-text">3.8 吸烟者问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-9-%E8%AF%BB%E8%80%85-%E5%86%99%E8%80%85%E9%97%AE%E9%A2%98"><span class="post-toc-text">3.9 读者-写者问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-10-%E5%93%B2%E5%AD%A6%E5%AE%B6%E5%90%83%E9%A5%AD%E9%97%AE%E9%A2%98"><span class="post-toc-text">3.10 哲学家吃饭问题</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#3-11-%E7%AE%A1%E7%A8%8B"><span class="post-toc-text">3.11 管程</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#4-%E6%AD%BB%E9%94%81"><span class="post-toc-text">4 死锁</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-1-%E6%AD%BB%E9%94%81%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="post-toc-text">4.1 死锁的概念</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-2-%E9%A2%84%E9%98%B2%E6%AD%BB%E9%94%81"><span class="post-toc-text">4.2 预防死锁</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-3-%E9%81%BF%E5%85%8D%E6%AD%BB%E9%94%81"><span class="post-toc-text">4.3 避免死锁</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#4-4-%E6%AD%BB%E9%94%81%E7%9A%84%E6%A3%80%E6%B5%8B%E5%92%8C%E8%A7%A3%E9%99%A4"><span class="post-toc-text">4.4 死锁的检测和解除</span></a></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2022/05/19/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart3%EF%BC%9A%E5%86%85%E5%AD%98%E7%AE%A1%E7%90%86/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          操作系统Part3：内存管理
        
      </span>
    </a>
  
  
    <a href="/2022/05/16/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9FPart1%EF%BC%9A%E4%BB%8B%E7%BB%8D/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">操作系统Part1：介绍</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
        <div id="SOHUCS" sid="操作系统/操作系统/操作系统Part2：进程管理" ></div>
<script type="text/javascript">
    (function(){
        var appid = 'cyvaQ34l4';
        var conf = 'dfbc2f31fdc91ffc75e2035195b4426d';
        var width = window.innerWidth || document.documentElement.clientWidth;
        if (width < 960) {
            window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    |
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
    <div class="theme-info">
</p>


      <span class="post-count">本站博文总字数：640.5k</span>
      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018~2023 MU Quanrui<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<!--加载prettify代码高亮js-->
  <script type="text/javascript" src="/google-code-prettify/prettify.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      $('pre').addClass('prettyprint linenums');
      $('code').addClass('prettyprint');
      prettyPrint();
    })
  </script>

<script>
  var mihoConfig = {
      root: "http://muquanrui.com",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/Big-Data/">Big Data</a><a class="category-link" href="/categories/Blog/">Blog</a><a class="category-link" href="/categories/Essay/">Essay</a><a class="category-link" href="/categories/IDEA/">IDEA</a><a class="category-link" href="/categories/IDE%E5%92%8C%E7%BC%96%E8%BE%91%E5%99%A8/">IDE和编辑器</a><a class="category-link" href="/categories/Java/">Java</a><a class="category-link" href="/categories/Lifelong-Learning/">Lifelong Learning</a><a class="category-link" href="/categories/MySQL/">MySQL</a><a class="category-link" href="/categories/Programming/">Programming</a><a class="category-link" href="/categories/Project/">Project</a><a class="category-link" href="/categories/Redis/">Redis</a><a class="category-link" href="/categories/Spring/">Spring</a><a class="category-link" href="/categories/UML/">UML</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><a class="category-link" href="/categories/%E5%9B%BE%E8%AE%BA/">图论</a><a class="category-link" href="/categories/%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%80/">奇淫巧技</a><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a><a class="category-link" href="/categories/%E6%96%B9%E6%B3%95%E8%AE%BA/">方法论</a><a class="category-link" href="/categories/%E6%97%A0%E5%90%8D%E5%90%88%E9%9B%86/">无名合集</a><a class="category-link" href="/categories/%E6%B3%95%E8%AF%AD/">法语</a><a class="category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3/">计算机接口</a><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Big-Data/" style="font-size: 10.83px;">Big Data</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/B%E7%AB%99%E5%B0%9A%E7%A1%85%E8%B0%B7/" style="font-size: 13.33px;">B站尚硅谷</a> <a href="/tags/B%E7%AB%99%E7%8E%8B%E9%81%93%E8%80%83%E7%A0%94/" style="font-size: 14.17px;">B站王道考研</a> <a href="/tags/CSS/" style="font-size: 11.67px;">CSS</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">C语言</a> <a href="/tags/ENSEEIHT/" style="font-size: 15px;">ENSEEIHT</a> <a href="/tags/Essay/" style="font-size: 10.83px;">Essay</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/IDEA/" style="font-size: 10.83px;">IDEA</a> <a href="/tags/IDE%E5%92%8C%E7%BC%96%E8%BE%91%E5%99%A8/" style="font-size: 10px;">IDE和编辑器</a> <a href="/tags/JUC/" style="font-size: 10px;">JUC</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/JavaWeb/" style="font-size: 10.83px;">JavaWeb</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">Java基础</a> <a href="/tags/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8D%B7I/" style="font-size: 16.67px;">Java核心技术卷I</a> <a href="/tags/Java%E7%AC%94%E8%AE%B0/" style="font-size: 17.5px;">Java笔记</a> <a href="/tags/Java%E9%AB%98%E7%BA%A7/" style="font-size: 15.83px;">Java高级</a> <a href="/tags/Lifelong-Learning/" style="font-size: 10px;">Lifelong Learning</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/Netty/" style="font-size: 10px;">Netty</a> <a href="/tags/OneNote/" style="font-size: 10px;">OneNote</a> <a href="/tags/Project/" style="font-size: 10px;">Project</a> <a href="/tags/QoS/" style="font-size: 11.67px;">QoS</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SSM/" style="font-size: 10.83px;">SSM</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spark/" style="font-size: 10.83px;">Spark</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UML/" style="font-size: 12.5px;">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/macOS/" style="font-size: 12.5px;">macOS</a> <a href="/tags/%E5%85%AB%E8%82%A1%E6%96%87/" style="font-size: 12.5px;">八股文</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10.83px;">前端</a> <a href="/tags/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C/" style="font-size: 12.5px;">图解网络</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 10.83px;">图论</a> <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 19.17px;">大学课程</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">学习笔记</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 10px;">摄影</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 16.67px;">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13.33px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%B3%95%E8%AF%AD/" style="font-size: 16.67px;">法语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E5%8F%A3%E8%AF%AD/" style="font-size: 10px;">法语口语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">法语语法</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E9%9F%B3/" style="font-size: 10px;">法语语音</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 10.83px;">离散数学</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10.83px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3%E4%B8%8E%E9%80%9A%E4%BF%A1/" style="font-size: 12.5px;">计算机接口与通信</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 18.33px;">计算机网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">软件工程</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 10px;">面试</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/categories">
                    <i class="fa fa-book"></i><span>Categories</span>
                </a>
            </li>
            
            <li>
                <a  href="/tags">
                    <i class="fa fa-tags"></i><span>Tags</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Big-Data/" style="font-size: 10.83px;">Big Data</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/B%E7%AB%99%E5%B0%9A%E7%A1%85%E8%B0%B7/" style="font-size: 13.33px;">B站尚硅谷</a> <a href="/tags/B%E7%AB%99%E7%8E%8B%E9%81%93%E8%80%83%E7%A0%94/" style="font-size: 14.17px;">B站王道考研</a> <a href="/tags/CSS/" style="font-size: 11.67px;">CSS</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">C语言</a> <a href="/tags/ENSEEIHT/" style="font-size: 15px;">ENSEEIHT</a> <a href="/tags/Essay/" style="font-size: 10.83px;">Essay</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/IDEA/" style="font-size: 10.83px;">IDEA</a> <a href="/tags/IDE%E5%92%8C%E7%BC%96%E8%BE%91%E5%99%A8/" style="font-size: 10px;">IDE和编辑器</a> <a href="/tags/JUC/" style="font-size: 10px;">JUC</a> <a href="/tags/JVM/" style="font-size: 10px;">JVM</a> <a href="/tags/Java/" style="font-size: 20px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/JavaWeb/" style="font-size: 10.83px;">JavaWeb</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">Java基础</a> <a href="/tags/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8D%B7I/" style="font-size: 16.67px;">Java核心技术卷I</a> <a href="/tags/Java%E7%AC%94%E8%AE%B0/" style="font-size: 17.5px;">Java笔记</a> <a href="/tags/Java%E9%AB%98%E7%BA%A7/" style="font-size: 15.83px;">Java高级</a> <a href="/tags/Lifelong-Learning/" style="font-size: 10px;">Lifelong Learning</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 11.67px;">MySQL</a> <a href="/tags/Netty/" style="font-size: 10px;">Netty</a> <a href="/tags/OneNote/" style="font-size: 10px;">OneNote</a> <a href="/tags/Project/" style="font-size: 10px;">Project</a> <a href="/tags/QoS/" style="font-size: 11.67px;">QoS</a> <a href="/tags/Redis/" style="font-size: 10px;">Redis</a> <a href="/tags/SSM/" style="font-size: 10.83px;">SSM</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spark/" style="font-size: 10.83px;">Spark</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/Typora/" style="font-size: 10px;">Typora</a> <a href="/tags/UML/" style="font-size: 12.5px;">UML</a> <a href="/tags/Ubuntu/" style="font-size: 10px;">Ubuntu</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/macOS/" style="font-size: 12.5px;">macOS</a> <a href="/tags/%E5%85%AB%E8%82%A1%E6%96%87/" style="font-size: 12.5px;">八股文</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10.83px;">前端</a> <a href="/tags/%E5%9B%BE%E8%A7%A3%E7%BD%91%E7%BB%9C/" style="font-size: 12.5px;">图解网络</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 10.83px;">图论</a> <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 19.17px;">大学课程</a> <a href="/tags/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" style="font-size: 10px;">学习笔记</a> <a href="/tags/%E6%91%84%E5%BD%B1/" style="font-size: 10px;">摄影</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 16.67px;">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13.33px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%B3%95%E8%AF%AD/" style="font-size: 16.67px;">法语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E5%8F%A3%E8%AF%AD/" style="font-size: 10px;">法语口语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">法语语法</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E9%9F%B3/" style="font-size: 10px;">法语语音</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 10.83px;">离散数学</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10.83px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3%E4%B8%8E%E9%80%9A%E4%BF%A1/" style="font-size: 12.5px;">计算机接口与通信</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 18.33px;">计算机网络</a> <a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 10px;">设计模式</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">软件工程</a> <a href="/tags/%E9%9D%A2%E8%AF%95/" style="font-size: 10px;">面试</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>

<script src="/js/search.js"></script>


<script src="/js/main.js"></script>









  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  
<script src="/js/animate.js"></script>



  
<script src="/js/pop-img.js"></script>

  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
  <!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":200,"height":400,"vOffset":-30},"mobile":{"show":false},"react":{"opacity":0.8},"log":false});</script></body>
</html>



