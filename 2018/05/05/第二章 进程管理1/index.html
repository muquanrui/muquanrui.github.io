<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第二章 进程管理1 | VorSonnenaufgang&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="VorSonnenaufgang,VorSonnenaufgang's Blog" />
  
  <meta name="description" content="处理机管理是操作系统的基本功能之一。处理机管理的基本任务是对处理机的分配和运行实施有效的管理。进程是处理机分配和运行的基本单位。因此，处理机管理可以归结为对进程的管理。  2.1 进程的基本概念程序执行的两种方式：引入进程是为了使多道程序并发执行。  顺序执行：单道批处理系统的执行方式。 并发执行：目的是为了提高资源利用率。  2.1.1 程序的顺序执行顺序执行过程：一个程序由若干程序段组成，按">
<meta property="og:type" content="article">
<meta property="og:title" content="第二章 进程管理1">
<meta property="og:url" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/index.html">
<meta property="og:site_name" content="VorSonnenaufgang&#39;s Blog">
<meta property="og:description" content="处理机管理是操作系统的基本功能之一。处理机管理的基本任务是对处理机的分配和运行实施有效的管理。进程是处理机分配和运行的基本单位。因此，处理机管理可以归结为对进程的管理。  2.1 进程的基本概念程序执行的两种方式：引入进程是为了使多道程序并发执行。  顺序执行：单道批处理系统的执行方式。 并发执行：目的是为了提高资源利用率。  2.1.1 程序的顺序执行顺序执行过程：一个程序由若干程序段组成，按">
<meta property="og:locale">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525483175740.jpg">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525484019345.jpg">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525487714648.jpg">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525488061524.jpg">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525488072683.jpg">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525491950233.jpg">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525491974200.jpg">
<meta property="og:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525499115555.jpg">
<meta property="article:published_time" content="2018-05-04T22:00:00.000Z">
<meta property="article:modified_time" content="2021-07-15T01:08:46.980Z">
<meta property="article:author" content="VorSonnenaufgang">
<meta property="article:tag" content="大学课程">
<meta property="article:tag" content="操作系统">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/images/1525483175740.jpg">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <link href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

  
<link rel="stylesheet" href="/css/style.css">


 <!--加载prettify代码高亮样式-->
<link href="/google-code-prettify/tranquil-heart.css" type="text/css" rel="stylesheet" />

  
<script src="/js/pace.min.js"></script>

  

  
  


  <!--加载条样式-->
  <style>
    .pace .pace-progress {
    	background-image: linear-gradient(90deg, #F79533 0%, #F37055 15%, #EF4E7B 30%, #A166AB 44%, #5073B8 58%, #1098AD 72%, #07B39B 86%, #6DBA82 100%);
    	height: 3px;
    }
    .pace .pace-progress-inner {
     	box-shadow: 0 0 10px #1E92FB, 0 0 5px #1E92FB; /*阴影颜色*/
    }
    .pace .pace-activity {
    	border-top-color: #1E92FB;	/*上边框颜色*/
    	border-left-color: #1E92FB;	/*左边框颜色*/
    }
  </style>

<meta name="generator" content="Hexo 5.2.0"></head>


<body>
  <div id="container">
      <header id="header">
    <div id="banner"></div>
    <div id="header-outer">

        <div id="header-menu" class="header-menu-pos animated">


<a target="_blank" rel="noopener" href="https://github.com/VorSonnenaufgang" class="github-corner" aria-label="View source on Github"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#FFA500; color:#fff; position: absolute; top: 0; border: 0; left: 0; transform: scale(-1, 1);" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


            <div class="header-menu-container">
                <a href="/" class="left">
                    <span class="site-title">VorSonnenaufgang&#39;s Blog</span>
                </a>
                <nav id="header-menu-nav" class="right">
                    
                    <a  href="/">
                        <i class="fa fa-home"></i>
                        <span>Home</span>
                    </a>
                    
                    <a  href="/archives">
                        <i class="fa fa-archive"></i>
                        <span>Archives</span>
                    </a>
                    
                    <a  href="/categories">
                        <i class="fa fa-book"></i>
                        <span>Categories</span>
                    </a>
                    
                    <a  href="/tags">
                        <i class="fa fa-tags"></i>
                        <span>Tags</span>
                    </a>
                    
                    <a  href="/about">
                        <i class="fa fa-user"></i>
                        <span>About</span>
                    </a>
                    
                </nav>
                <a class="mobile-header-menu-button">
                    <i class="fa fa-bars"></i>
                </a>
            </div>
        </div>
        <div id="header-row">
            <div id="logo">
                <a href="/">
                    <img src="/images/logo.png" alt="logo">
                </a>
            </div>
            <div class="header-info">
                <div id="header-title">
                    
                    <h2>
                        VorSonnenaufgang&#39;s Blog
                    </h2>
                    
                </div>
                <div id="header-description">
                    
                    <h3>
                        Carpe diem.
                    </h3>
                    
                </div>
            </div>
            <nav class="header-nav">
                <div class="social">
                    
                        <a title="Home" target="_blank" href="//vor.ink">
                            <i class="fa fa-home fa-2x"></i></a>
                    
                        <a title="Github" target="_blank" href="//github.com/VorSonnenaufgang">
                            <i class="fa fa-github fa-2x"></i></a>
                    
                        <a title="CSDN" target="_blank" href="//blog.csdn.net/vorsonnenaufgang">
                            <i class="fa fa-copyright fa-2x"></i></a>
                    
                        <a title="Google" target="_blank" href="//google.com">
                            <i class="fa fa-google fa-2x"></i></a>
                    
                </div>
            </nav>
        </div>
    </div>
</header>
      <div class="outer">
        <section id="main" class="body-wrap"><article id="post-第二章 进程管理1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="post-title" itemprop="name">
      第二章 进程管理1
    </h1>
    <div class="post-title-bar">
      <ul>
          
              <li>
                  <i class="fa fa-book"></i>
                  
                      <a href="/categories/操作系统/">操作系统</a>
                  
              </li>
          
        <li>
          <i class="fa fa-calendar"></i>  2018-05-05
        </li>
        <li>
          <i class="fa fa-eye"></i>
          <span id="busuanzi_value_page_pv"></span>          
        </li>
      </ul>
       <span class="post-count">文章字数:7.5k字 &nbsp &nbsp  
         阅读时长:26分钟</span>
    </div>
  
        
          
      </header>
    

    <div class="article-entry post-content" itemprop="articleBody">

    
    



      
            
            <blockquote>
<p>处理机管理是操作系统的基本功能之一。<br>处理机管理的基本任务是对处理机的分配和运行实施有效的管理。<br>进程是处理机分配和运行的基本单位。因此，处理机管理可以归结为对进程的管理。</p>
</blockquote>
<h3 id="2-1-进程的基本概念"><a href="#2-1-进程的基本概念" class="headerlink" title="2.1 进程的基本概念"></a>2.1 进程的基本概念</h3><p>程序执行的两种方式：<br>引入进程是为了使多道程序并发执行。</p>
<ul>
<li>顺序执行：单道批处理系统的执行方式。</li>
<li>并发执行：目的是为了提高资源利用率。</li>
</ul>
<h4 id="2-1-1-程序的顺序执行"><a href="#2-1-1-程序的顺序执行" class="headerlink" title="2.1.1 程序的顺序执行"></a>2.1.1 程序的顺序执行</h4><p>顺序执行过程：一个程序由若干程序段组成，按照某种先后次序来执行，仅当前一个操作执行完后才能执行后继操作。</p>
<p>特征：</p>
<ul>
<li>顺序性：处理机的操作严格按照程序所规定的顺序执行，即每一个操作必须在下一个操作开始之前结束。</li>
<li>封闭性：程序一旦开始运行，其执行结果不受外界因素影响。</li>
<li>可再现性：只要程序执行时的初始条件和执行环境相同，当程序重复执行时，都将获得相同的结果。 </li>
</ul>
<h4 id="2-2-1-前趋图"><a href="#2-2-1-前趋图" class="headerlink" title="2.2.1 前趋图"></a>2.2.1 前趋图</h4><p>前驱图是一个有向无循环图，每个结点表示一条语句、一个程序段或进程，结点间的有向边表示语句或程序段的执行次序。</p>
<p><img src="./images/1525483175740.jpg"></p>
<h4 id="2-1-3-程序的并发执行"><a href="#2-1-3-程序的并发执行" class="headerlink" title="2.1.3 程序的并发执行"></a>2.1.3 程序的并发执行</h4><p>程序的并发执行是指若干个程序（或程序段）同时在系统中运行，这些程序（或程序段）的执行在时间上是重叠的。<br>所谓执行在时间上是重叠的，是指执行一个程序（或程序段）的第一条指令是在执行另一个程序（或程序段）的最后一条指令完成之前开始。</p>
<p>特征：</p>
<ul>
<li>间断性：并发程序具有“执行—暂停—-执行”这种间断性的活动规律。</li>
<li>失去封闭性：多个程序共享系统中的资源，这些资源的状态将由多个程序来改变，致使程序之间相互影响。</li>
<li>不可再现性：在初始条件相同的情况下，程序的执行结果依赖于执行的次序。</li>
</ul>
<h4 id="2-1-4-进程的特征与状态"><a href="#2-1-4-进程的特征与状态" class="headerlink" title="2.1.4 进程的特征与状态"></a>2.1.4 进程的特征与状态</h4><p><strong>1. 进程的特征和定义</strong></p>
<ul>
<li>结构性：进程实体由程序段、数据段及进程控制块组成，又称为进程映像。</li>
<li>动态性：进程是程序的一次执行过程。动态性还表现为它因创建而产生，因调度而执行，因无资源而暂停，因撤消而消亡。而程序是静态实体。</li>
<li>并发性：多个进程实体同时存在于内存中，能在一段时间内同时运行。</li>
<li>独立性：在传统OS中，进程是独立运行的基本单位，也是系统分配资源和调度的基本单位。</li>
<li>异步性：也叫制约性，进程之间相互制约，进程以各自独立的不可预知的速度向前推进。</li>
</ul>
<p><strong>进程的定义：</strong> 进程是进程实体的运行过程，是系统进行资源分配和调度的一个独立单位。</p>
<p><strong>2. 进程的三种基本状态</strong></p>
<ul>
<li>就绪状态：进程已获得除处理机以外的所有资源，一旦分配了处理机就可以立即执行，此时进程所处的状态为就绪状态。</li>
<li>执行状态：又称运行状态。当一个进程获得必要的资源并正在处理机上执行，此时进程所处的状态为运行状态。</li>
<li>阻塞状态：又称等待状态、睡眠状态。正在执行的进程，由于发生某事件而暂时无法执行下去（如等待输入/输出完成），此时进程所处的状态为等待状态。</li>
</ul>
<p>进程状态转换图（三态模型）</p>
<p><img src="./images/1525484019345.jpg"></p>
<p>进程状态转换</p>
<ul>
<li>就绪→执行<ul>
<li>进程调度程序将处理机分配给处于就绪状态中的某进程后，进程状态由就绪状态转为执行状态。</li>
</ul>
</li>
<li>执行→就绪<ul>
<li>当前进程因时间片用完而被暂停执行时，进程状态由执行状态转为就绪状态。</li>
<li>在优先级调度方式中，一个优先级高的进程就绪后，可抢占一个正在执行的优先级低的进程的处理机，此时该低优先级的进程将由执行状态转为就绪状态。</li>
</ul>
</li>
<li>执行→阻塞<ul>
<li>当前进程因发生某事件而无法执行时，进程状态由执行状态转为阻塞状态。如：等待使用资源；等待外设传输；等待人工干预。</li>
</ul>
</li>
<li>阻塞→就绪<ul>
<li>处于阻塞状态的进程，当所等待的事件发生时，便由阻塞状态转为就绪状态。如：资源得到满足；外设传输结束；人工干预完成。</li>
</ul>
</li>
</ul>
<p><strong>3. 进程的挂起</strong><br>由于进程的不断创建，系统的资源已经不能满足进程运行的要求，这个时候就必须把某些进程对换到外存，暂时不参与进程调度，起到平滑系统操作负荷的目的。称为进程挂起（suspend）。</p>
<p>进程挂起的原因：</p>
<ul>
<li><strong>终端用户的请求</strong>：用户要求挂起自己的进程，以根据中间执行情况和中间结果进行某些调试、检查和改正。</li>
<li><strong>父进程的请求</strong>：父进程希望挂起子进程检查。</li>
<li><strong>负荷调节的需要</strong>：系统资源不足，负荷过重，已影响到实时任务的控制，此时需要挂起部分进程以保证系统正常运行。</li>
<li><strong>操作系统要求</strong>：当系统出现故障或某些功能受到破坏时，需要挂起某些问题进程以排除故障。</li>
</ul>
<p>挂起状态：<br>基于上述原因，需引入挂起状态。包括：</p>
<ul>
<li>静止就绪（就绪挂起）</li>
<li>静止阻塞（阻塞挂起）<br>并且增加挂起状态（又称为静止状态）到非挂起状态（又称为活动状态）的转换。</li>
</ul>
<p><img src="./images/1525487714648.jpg"></p>
<p>状态转换：</p>
<ol>
<li>活动就绪→静止就绪：<ul>
<li>操作系统根据当前资源状况和性能要求，也可以决定把内存中就绪态进程对换出去成为静止就绪态。</li>
</ul>
</li>
<li>活动阻塞→静止阻塞：<ul>
<li>操作系统根据当前资源状况和性能要求，也可以决定把内存中阻塞态进程将被对换出去成为静止阻塞态。</li>
</ul>
</li>
<li>静止就绪→活动就绪：<ul>
<li>当内存中没有就绪态进程，或者静止就绪态进程具有比活动就绪态进程更高的优先级，系统将把静止就绪态进程转换成活动就绪态。</li>
</ul>
</li>
<li>静止阻塞→活动阻塞：<ul>
<li>当内存有较多空闲空间，并且静止阻塞的进程所等待的事情很快就会发生时，可以将它调入内存。</li>
</ul>
</li>
<li>执行→静止就绪：<ul>
<li>当一个具有较高优先级的等待挂起态进程的等待事件结束后，它需要抢占了CPU，而此时主存空间又不够，从而可能导致正在运行的进程转化为静止就绪态。另外处于执行态的进程也可以自己挂起自己。</li>
</ul>
</li>
<li>静止阻塞→静止就绪：<ul>
<li>引起进程等待的事件发生之后，相应的静止阻塞态进程将转换为静止就绪态。</li>
</ul>
</li>
</ol>
<p>挂起进程的特征:</p>
<ul>
<li>该进程不能立即被执行；</li>
<li>挂起进程可能会等待一个事件，但所等待的事件是独立于挂起条件的，事件结束并不能导致进程具备执行条件；</li>
<li>进程进入挂起状态是由于操作系统、父进程或进程本身阻止它的运行；</li>
<li>结束进程挂起状态的命令只能通过操作系统或父进程发出。</li>
</ul>
<p><strong>4. 创建状态和终止状态</strong></p>
<p>创建状态：进程刚刚建立，获得了进程控制块，但是相应资源还未分配，进程自身还未进入主存，即创建工作尚未完成。<br>终止状态：当一个进程正常或异常结束，操作系统已释放它所占用的资源，但尚未将它撤消时的状态，又称退出状态。</p>
<p><img src="./images/1525488061524.jpg"></p>
<p><img src="./images/1525488072683.jpg"></p>
<p>状态转换：</p>
<ul>
<li>NULL→创建：一个新进程产生时，该进程处于创建状态。</li>
<li>创建→活动就绪：就绪队列能够接纳新的进程时，OS按一定调度方式将处于新建状态的进程转换成就绪状态。</li>
<li>创建→静止就绪：考虑到系统当前资源状况和性能要求，可以决定新建的进程将被对换出去成为静止就绪态。</li>
<li>执行→终止：当前进程已经正常完成或发生某事件（产生异常），进程状态由执行状态转为终止状态。</li>
</ul>
<h4 id="2-1-5-进程控制块"><a href="#2-1-5-进程控制块" class="headerlink" title="2.1.5 进程控制块"></a>2.1.5 进程控制块</h4><p>进程控制块（PCB，Process Control Block）：<br>是操作系统维护的，用于描述和管理进程的数据结构。它是进程实体的一部分，操作系统通过PCB感知进程的存在，PCB是进程存在的唯一标志。<br>进程和PCB是一一对应的。</p>
<p>PCB中的信息：</p>
<ol>
<li>进程标识信息</li>
<li>处理机状态信息</li>
<li>进程调度和状态信息</li>
<li>进程控制信息</li>
</ol>
<p><strong>1. 进程标识信息</strong><br>进程标识信息用于标识一个进程。包括：</p>
<ul>
<li>进程标识符：唯一标识进程的整数。</li>
<li>进程名：通常为可执行文件名。（不唯一）</li>
<li>用户标识符：指示进程所属的用户。</li>
<li>父进程标识符和子进程标识符：描述进程家族关系。</li>
</ul>
<p><strong>2. 处理机状态信息</strong><br>处理机状态信息用于保存现场，由处理机各寄存器组成。包括：</p>
<ul>
<li>通用寄存器：处理机执行时可以访问的寄存器。</li>
<li>指令计数器：存放将要访问的下一条指令地址。</li>
<li>程序状态字：含执行结果状态、中断屏蔽码等。</li>
<li>栈指针：每进程有多个与之相关的栈，用于保存过程和系统调用的地址和参数。</li>
</ul>
<p><strong>3. 进程调度和状态信息</strong><br>进程调度和状态信息用于存放与进程调度及对换有关的信息。包括：</p>
<ul>
<li>进程状态：指明进程当前状态。</li>
<li>进程优先级：描述进程使用处理机的优先级别。</li>
<li>进程调度的其他信息：取决于进程调度算法，如进程等待时间总和、进程运行时间总和等。</li>
<li>等待事件：进程处于等待状态的原因。</li>
</ul>
<p><strong>4. 进程控制信息</strong><br>进程控制信息：包括：</p>
<ul>
<li>程序和数据地址：指出进程的程序及数据在内存的地址。</li>
<li>进程同步及通讯机制：如信号量、消息队列等。</li>
<li>资源清单：记录进程所需的资源和已分配资源。</li>
<li>链接指针：处于同一状态的进程组成一个队列，链接指针指向队首。</li>
</ul>
<p><strong>PCB的组织方式</strong></p>
<ul>
<li>链接方式：把处于同一状态（例如就绪态）的所有进程控制块链接在一起，这样的数据结构称为进程队列（Process Queues），简称队列。</li>
<li>索引方式：系统根据进程状态建立几张索引表，登记具有相应状态的PCB地址。</li>
</ul>
<p><img src="./images/1525491950233.jpg"></p>
<p><img src="./images/1525491974200.jpg"></p>
<h3 id="2-2-进程控制"><a href="#2-2-进程控制" class="headerlink" title="2.2 进程控制"></a>2.2 进程控制</h3><p>进程控制的职能是对系统中的所有进程实施有效的管理。<br>常见的进程控制功能有进程创建、撤消、以及完成各种状态间的转换等。这些功能一般由操作系统内核来实现。</p>
<p><strong>原语</strong><br>原语是由若干条机器指令构成的，用以完成特定功能的一段程序，这段程序在执行期间不可分割（要么全部完成，要么全都不做）。</p>
<p>引进原语的主要目的是为了实现进程的控制、同步和通信。用于进程控制的原语有：创建原语、撤销原语、阻塞原语和唤醒原语等。</p>
<p><strong>进程图</strong><br>进程图（Process Graph）又称进程树或进程家族树，是描述进程家族关系的一棵有向树。图中的结点表示进程，若进程A创建了进程B，则从结点A有一条边指向结点B，说明进程A是进程B的父进程，进程B是进程A的子进程。 </p>
<p><img src="./images/1525499115555.jpg"></p>
<h4 id="2-2-1-进程创建"><a href="#2-2-1-进程创建" class="headerlink" title="2.2.1 进程创建"></a>2.2.1 进程创建</h4><p><strong>引起进程创建的事件</strong>：</p>
<ul>
<li>用户登录：用户登录后，若合法则为用户创建一个进程。</li>
<li>作业调度：为调度到的作业分配资源并创建进程。</li>
<li>OS服务：创建服务进程。</li>
<li>应用需要：应用程序根据需要创建子进程。</li>
</ul>
<p><strong>创建原语</strong>：<br>进程创建原语的主要功能是为被创建进程建立一个PCB。其算法思想如下：</p>
<ul>
<li>向系统申请一个空闲PCB结构，若没有则出错返回；</li>
<li>为新进程分配资源：为新进程的程序和数据以及用户栈分配必要的内存空间；</li>
<li>初始化新进程的PCB：填写进程名、标识符、状态、程序地址等；</li>
<li>将进程PCB插入相应队列：插入就绪队列。</li>
</ul>
<h4 id="2-2-2-进程终止"><a href="#2-2-2-进程终止" class="headerlink" title="2.2.2 进程终止"></a>2.2.2 进程终止</h4><p><strong>引起进程终止的事件</strong>：</p>
<ul>
<li>正常结束</li>
<li>异常结束：超时、内存不足、地址越界、算术错、I/O故障、非法指令等。</li>
<li>外界干预：因某种原因需要操作员或系统终止进程；父进程请求终止子进程；父进程终止。</li>
</ul>
<p><strong>终止原语</strong>：<br>进程终止原语的主要功能是撤消一个进程。其算法思想如下：</p>
<ul>
<li>根据标识符，找到进程的PCB，读出其状态；</li>
<li>若被终止进程正处于运行状态，则立即停止该进程的执行，设置重新调度标志；</li>
<li>若被终止进程有子孙进程，还应将该进程的子孙进程予以终止；</li>
<li>对于被终止进程所占有的资源，或者归还给父进程，或者归还给系统；</li>
<li>最后撤消它的PCB。若需要转调度程序。</li>
</ul>
<h4 id="2-2-3-进程阻塞与唤醒"><a href="#2-2-3-进程阻塞与唤醒" class="headerlink" title="2.2.3 进程阻塞与唤醒"></a>2.2.3 进程阻塞与唤醒</h4><p><strong>引起进程阻塞的事件</strong>：</p>
<ul>
<li>请求系统服务：如请求分配资源但尚无资源分配。</li>
<li>启动某种操作：进程必须在该操作完成之后才能继续执行</li>
<li>新数据尚未到达：如合作进程之间。</li>
<li>无新工作可做：进程已完成了给定任务，新任务未到。</li>
</ul>
<p><strong>阻塞原语</strong>：<br>阻塞原语的主要功能是将进程由执行状态转为阻塞状态。其算法思想如下：</p>
<ul>
<li>根据当前执行进程的标识符找到PCB；</li>
<li>停止执行进程，将进程状态改为阻塞；</li>
<li>保存该进程的现场信息到其PCB结构中；</li>
<li>将该进程PCB插入到等待队列；</li>
<li>转进程调度程序。</li>
</ul>
<p><strong>唤醒原语</strong>：<br>唤醒原语的主要功能是将进程唤醒，其算法思想如下：</p>
<ul>
<li>从等待队列中取出相应进程；</li>
<li>将该进程状态改为就绪，并将进程插入就绪队列；</li>
<li>转进程调度或返回。</li>
</ul>
<p><strong>阻塞与唤醒的关系</strong>：</p>
<ul>
<li>一个进程由执行状态转变为阻塞状态，是这个进程自己调用阻塞原语去完成的。</li>
<li>进程由阻塞状态转变为就绪状态，是另一个发现者进程调用唤醒原语实现的。</li>
<li>一般发现者进程与被唤醒进程是合作的并发进程。</li>
</ul>
<h4 id="2-2-4-进程挂起与激活"><a href="#2-2-4-进程挂起与激活" class="headerlink" title="2.2.4 进程挂起与激活"></a>2.2.4 进程挂起与激活</h4><p><strong>进程挂起</strong><br>当出现了引起进程挂起的事件时，比如，用户进程请求将自己挂起，或父进程请求将自己的某个子进程挂起时，系统将利用挂起原语将指定进程挂起。</p>
<p><strong>挂起原语</strong><br>挂起原语的主要功能是将指定进程挂起。其算法思想如下：</p>
<ul>
<li>根据被挂起进程的标识符，找到其PCB；</li>
<li>取该PCB的状态；<ul>
<li>若为运行状态，则停止其执行，改为就绪挂起状态，转进程调度；</li>
<li>若为就绪状态，则改为就绪挂起状态；</li>
<li>若为等待状态，则改为等待挂起状态；</li>
</ul>
</li>
</ul>
<p><strong>进程激活</strong><br>当发生激活进程的事件时，如用户进程或父进程请求激活指定进程，若进程驻留在外存而内存已经有足够的空间，则系统可利用激活原语将外存上被挂起的进程换入内存。</p>
<p><strong>激活原语</strong><br>激活原语的主要功能是将指定进程激活。其算法思想如下：</p>
<ul>
<li>将进程状态由挂起改为激活后的状态；<ul>
<li>就绪挂起改为就绪；</li>
<li>等待挂起改为等待；</li>
</ul>
</li>
<li>若需要则转进程调度 。</li>
</ul>
<h3 id="2-3-进程同步"><a href="#2-3-进程同步" class="headerlink" title="2.3 进程同步"></a>2.3 进程同步</h3><h4 id="2-3-1-进程同步的基本概念"><a href="#2-3-1-进程同步的基本概念" class="headerlink" title="2.3.1 进程同步的基本概念"></a>2.3.1 进程同步的基本概念</h4><p>进程同步的主要任务是使并发执行的进程之间能有效地共享资源和相互合作，从而使程序的执行具有可再现性。</p>
<p><strong>两种形式的进程制约关系</strong><br>相互协作关系（直接制约关系）</p>
<ul>
<li>要保证相互合作的诸进程在执行次序上的协调。</li>
</ul>
<p>资源共享关系（间接制约关系，竞争关系）</p>
<ul>
<li>要保证诸进程互斥地访问临界资源。</li>
</ul>
<p><strong>临界资源与互斥</strong><br><strong>临界资源</strong>(Critical Resources, CR)：一段时间内仅允许一个进程使用的资源称为临界资源。<br><strong>互斥</strong>：当一个进程正在访问某共享资源时，就不允许其他进程对其访问。<br>诸进程应采用互斥方式实现对临界资源的共享。</p>
<p><strong>临界区</strong><br>临界区(Critical Section, CS)：进程中访问临界资源的那段代码称为临界区，又称临界段。<br>同类临界区：所有与同一临界资源相关联的临界区。</p>
<p><strong>解互斥问题应遵循的原则</strong></p>
<ul>
<li>空闲让进：若无进程处于临界区时，应允许一个进程进入临界区。</li>
<li>忙则等待：当已有进程进入临界区，其他进程必须等待。</li>
<li>有限等待：应保证要求进入临界区的进程在有限时间内进入临界区。</li>
<li>让权等待：当进程不能进入自己的临界区时，应释放处理机。</li>
</ul>
<p><strong>同步</strong>：多个相关进程在执行次序上的协调。</p>
<p><strong>互斥与同步</strong><br>互斥是解决进程间竞争关系的手段。<br>同步是解决进程间协作关系的手段。</p>
<p>互斥是一种特殊的进程同步，即逐次使用临界资源。</p>
<h4 id="2-3-2-信号量机制"><a href="#2-3-2-信号量机制" class="headerlink" title="2.3.2 信号量机制"></a>2.3.2 信号量机制</h4><p>要实现进程间正确的协作，操作系统必须提供实现进程协作的措施和方法，称为同步机制。<br>信号量是一种卓有成效的进程同步机制。</p>
<p><strong>信号量的类型</strong><br><strong>1. 整型信号量</strong></p>
<p>最初Dijkstra把整型信号量定义为一个用于表示资源数目的整型量S，它与一般整型量不同，除初始化外，仅能通过两个标准的原子操作wait(S)和signal(S)来访问。<br>Wait(S)和signal(S)操作可描述为：</p>
<pre><code>wait(S)：   while     S&lt;=0 do no-op；
　　　　　　　 S:=S-1；
　　signal(S)： S:=S+1； </code></pre>
<ul>
<li>Wait操作意味着申请一个资源，signal操作意味着释放一个资源。</li>
<li>Wait和signal操作也常被称为P操作和V操作。</li>
<li>缺点： wait操作中只要是信号量S≤0，就会不断地测试。因此，该机制并未遵循“让权等待”的准则，而是使进程处于“忙等”的状态。</li>
</ul>
<p><strong>2. 记录型信号量</strong></p>
<p>记录型信号量机制则是一种不存在“忙等”现象的进程同步机制。<br>但在采取了“让权等待”的策略后，又会出现多个进程等待访问同一临界资源的情况。为此，在信号量机制中，除了需要一个用于代表资源数目的整型变量value外，还应增加一个进程链表指针L，用于链接上述的所有等待进程。</p>
<p>记录型信号量是一个记录型数据结构，包含<em>信号量值</em>和一个<em>等待队列</em>，其中信号量值是一个具有非负初值的整型变量，等待队列是一个初始状态为空的队列。</p>
<p>信号量定义：</p>
<pre><code>type semaphore=record
        　　 value: integer；     //信号量值
                L: list of process； //等待队列
                end </code></pre>
<p>信号量说明 <code>var S: semaphore  ；</code></p>
<p>Wait操作</p>
<pre><code>设S为一个信号量
procedure wait(S)
　　var S：semaphore；
　　begin
　　　S.value:=S.value-1； //表示申请一个资源
　　　if S.value&lt;0 then block(S.L)；//没有空闲资源
　　end </code></pre>
<p>signal操作</p>
<pre><code>procedure signal(S)
　　var S: semaphore；
　　begin
　　　 S.value:=S.value+1； //表示释放一个资源
　　　 if S.value&lt;=0 then wakeup(S.L)；//表示有进程处于等待状态
　　end </code></pre>
<p>信号量的物理含义：<br>信号量S.value必须置一次且只能置一次初值，初值不能为负数，通常表示空闲资源的数目。</p>
<ul>
<li>S.value&gt;0表示有S. value个资源可用；</li>
<li>S.value=0表示无资源可用；</li>
<li>S.value&lt;0则| S. value |表示S等待队列中的进程个数；</li>
</ul>
<p>Wait(S)意味着请求一个资源，signal(S)意味着释放一个资源。</p>
<p><strong>注意</strong>：</p>
<ul>
<li>除信号量的初值外，信号量的值仅能由wait和signal操作改变。</li>
<li>wait、signal操作在封锁中断的情况下执行，即一个进程在信号量上操作时，不会有别的进程同时修改该信号量。也就是说wait操作和signal操作是原语。</li>
<li>在一定条件下，wait操作可能阻塞执行进程，而signal操作可以唤醒其他进程。</li>
</ul>
<p><strong>3. AND型信号量集</strong>：<br>记录型信号量适用于进程之间共享一种临界资源的场合。</p>
<p>在很多应用中，一个进程需要先获得两种或多种共享资源后，才能执行其任务。AND型信号量集适合同时需要多种资源，且每种占用一个时的情况。</p>
<p>基本思想：</p>
<ul>
<li>把进程在整个运行其间所要的临界资源，一次性全部分配给进程，待该进程使用完临界资源后再全部释放。</li>
<li>只要有一个资源未能分配给该进程，其他可以分配的资源，也不分配给他。亦即要么全部分配，要么一个也不分配，这样做可以消除由于部分分配而导致的进程死锁。<pre><code>Swait(s1, s2,…, sn)
      if ( s1&gt;=1 and … and sn&gt;=1) then
      for  i:= 1 to n do
            si:= si-1;
           endfor
      else 
             进程进入第一个遇到的满足si&lt;1条件的si信号量队列等待，
             同时将该进程的程序计数器地址回退，置为Swait操作处
      endif 
</code></pre>
</li>
</ul>
<p>Ssignal(s1, s2,…, sn)<br>        for i:=1 to n do<br>           si:=si+1;<br>           从所有si信号量等待队列中移出进程并置入就绪队列。<br>       endfor</p>
<pre><code>**4. 一般型信号量集**：
适合于同时需要多种资源，且每种占用的数目不同，且可分配的资源还存在临界值（该种资源数目少于临界值是不允许分配）时的处理。

基本思想：对AND型信号量集进行扩充，允许一次申请多个资源，而且在分配之前，测试某资源的数量是否大于临界值。</code></pre>
<p>Swait(s1,t1,d1;…,sn,tn,dn)<br>          if (s1&gt;=t1 and  … and sn&gt;=tn) then<br>              for i:=1 to n do<br>               si:=si-di;<br>          endfor<br>          else<br>              进程进入第一个遇到的满足si&lt;ti条件的si信号量队列等待，<br>              同时将该进程的程序计数器地址回退，置为Swait操作处。<br>          endif</p>
<p>Ssignal(s1,d1;…sn,dn)<br>        for i:=1 to n do<br>               si:=si+di;<br>               从所有si信号量等待队列中移出进程并置入就绪队列。<br>          endfor</p>
<pre><code>#### 2.3.3 信号量的应用
1. 利用信号量实现互斥
    - 为使多个进程能互斥地访问某临界资源，只须为临界资源设置一个互斥信号量mutex (MUTual Exclusion)，其初值为1；
    - 在每个进程中将临界区代码置于wait(mutex)和signal(mutex)之间。

![](./images/1525501700344.jpg)

若2个进程共享一个临界资源，信号量的取值范围是：
- 没有进程使用临界资源：1
- 只有1个进程使用临界资源：0
- 1个进程使用临界资源，另一个进程等待使用临界资源：-1

2. 利用信号量实现前趋关系
    - 前趋关系：并发执行的进程P1和P2，分别有代码S1和S2，要求S1在S2开始前完成。

![](./images/1525502075999.jpg)

![](./images/1525502091809.jpg)</code></pre>
<p>Var  a,b,c,d,e,f,g:semaphore:=0,0,0,0,0,0,0;<br>begin<br>　parbegin<br>　　begin S1； signal(a)； signal(b)； end；<br>　　begin wait(a)； S2； signal(c)； signal(d)； end；<br>　　begin wait(b)； S3； signal(e)； end；<br>　　begin wait(c)； S4； signal(f)； end；<br>　　begin wait(d)； S5； signal(g)； end；<br>　　begin wait(e)； wait(f)； wait(g)； S6； end；<br>　parend<br>end </p>
<pre><code>#### 2.3.4 管程机制
定义：管程定义了一个数据结构和在该数据结构上能为并发进程所执行的一组操作，这组操作能同步进程和改变管程中的数据。

构成：
- 管程的*名字*
- 局部于管程的*共享数据结构（变量）*
- 对共享数据结构进行的*一组操作（函数）*
- 对局部于管程的数据*设置初始值的语句*

![](./images/1525502236753.jpg)

基本特征：
- 管程中的共享变量仅能由管程内定义的函数所访问，在管程外部是不可见的。
- 一个进程只有通过调用管程内的函数（进入管程）才能间接访问共享变量。
- 每次仅允许一个进程在管程内执行某个函数。即规定管程互斥进入。
- 由于管程是一个语言成分，所以管程的互斥访问完全由编译程序在编译时自动添加上，无需程序员关心，而且保证正确。

![](./images/1525502300071.jpg)

**入口等待队列**：
因为管程是互斥进入的，所以当一个进程试图进入一个巳被占用的管程时它应当在管程的入口处等待，因而在管程的入口处应当有一个进程等待队列，称作*入口等待队列。*

**条件变量**：
由于管程通常是用于管理资源的，因而在*管程内部*，应当存在某种等待机制。当进入管程的进程因资源被占用等原因不能继续运行时使其等待。为此在管程内部可以说明和使用一种特殊类型的变量——*条件变量。每个表示一种等待原因，对应一个等待队列（条件队列）。*

当一个进程通过调用管程的外部函数而进入管程之后，因为某种原因而无法运行时，就在相应的条件变量上等待。

- 条件变量用于区别各种不同的等待原因。   其说明形式为： condition  x；
- 还应设置在条件变量上进行操作的两个同步原语wait和signal。使用方式为：`x.wait`，`x.signal`。
    - `x.wait` 使调用进程等待，并将它排在x的队列上；
    - `x.signal` 将x队列的队首进程唤醒（如果x队列为空，相当于空操作，调用进程继续）。

**用管程解决生产者-消费者问题**
建立一个管程并命名为`PC`，其中包括两个函数：`put`将产品放入缓冲池中；`get`从缓冲池中取出产品。

设置了条件变量`condition` ,`notfull`,`notempty`;
- notfull 表示当生产者要放产品，而缓冲区满时，生产者等待
- notempty 表示消费者要取产品，而缓冲区空时，消费者等待
- 设置变量`count`，表示缓冲池中的产品数目。
</code></pre>
<p>Monitor PC;                     /<em>管程名</em>/<br>    item buffer[n];                 /<em>缓冲区 */<br>    int in, out;                       /*存取指针 */<br>    int count;                        /*缓冲中产品数</em>/<br>    condition notfull,notempty;   /<em>条件变量</em>/<br>    void  Entry put(item x)         /<em>向缓冲区放产品</em>/<br>    {<br>        if (count==n) notfull.wait;     /<em>缓冲已满</em>/<br>        buffer[in]=x;<br>        in=(in+1)%n; count=count+1;<br>        if (count==1) notempty. signal;  /<em>唤醒等待者</em>/<br>     }<br>    void  Entry get(item x)   /<em>从缓冲区取产品</em>/<br>    {<br>        if (count==0) notempty.wait;     /<em>缓冲已空</em>/<br>        x=buffer[out];<br>        out = (out+1) % n; count=count-1;<br>        if (count==n-1) notfull. signal;  /<em>唤醒等待者</em>/<br>     }<br>    { in=0; out=0; count=0; }               /*初始化 */</p>
<pre><code>cobegin                             
void producer(int i)       /*生产者*/
&#123;
    item nextp;
        while(true)
    &#123;    produce an item in nextp;
          PC.put(nextp);
    &#125;
&#125; 
void consumer(int i)     /*消费者*/
&#123;  
      item nextc;
     while(true)
    &#123;    PC.get(nextc); 
          consume the item in nextc；
     &#125;
&#125;</code></pre>
<p>coend</p>
<pre><code>
**利用管程解决哲学家进餐问题**：
用三种不同状态表示哲学家的活动：进餐、饥饿、思考。
  `（thinking，hungry，eating）state[5];`
为第i个(i=0,..,4)哲学家设置一个条件变量self[i]，当哲学家饥饿又不能获得筷子时，用self[i].wait来阻塞自己。
    `condition self[5];`
管程设置三个函数：`pickup`取筷子，`putdown`放筷子，`test`测试是否具备进餐条件。
</code></pre>
<p>Monitor DP;<br>    (thinking, hungry, eating) state[5] ;<br>    condition  self[5];<br>    void Entry pickup(int i)        /<em>第i号哲学家取筷子</em>/<br>    {     state[i] = hungry;    test(i);<br>        if(state[i]!=eating) self[i].wait;<br>    }<br>    void Entry putdown(int i)     /<em>第i号哲学家放下筷子</em>/<br>    {     state[i] = thinking;<br>          test((i+4)%5);    test((i+1)%5);<br>     }<br>    void test(int i)      /<em>测试第i号哲学家是否具备进餐条件</em>/<br>    {<br>         if (state[(i+4) % 5]&lt;&gt;eating) &amp;&amp; (state[i]=hungry)      &amp;&amp; (state[(i+1) % 5]&lt;&gt;eating)<br>        {   state[i] = eating;   self[i].signal; }<br>    }<br> {   (for i = 0; i &lt; 5; i++)  state[i] = thinking；}</p>
<p> cobegin<br>    void philosopher(int i)<br>    {<br>         while(true)<br>        {<br>            thinking;<br>            DP.pickup(i);<br>            eating;<br>            DP.putdown(i);<br>        }<br>    }<br>coend</p>
<pre><code></code></pre>

            <div class="post-copyright">
    <div class="content">
        <p>最后更新： 2021年07月15日 03:08</p>
        <p>原始链接： <a class="post-url" href="/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/" title="第二章 进程管理1">http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/</a></p>
        <footer>
            <a href="http://vor.ink">
                <img src="/images/logo.png" alt="VorSonnenaufgang">
                VorSonnenaufgang
            </a>
        </footer>
    </div>
</div>

      
        
            
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;">赏</a>
</div>

<div id="reward" class="post-modal reward-lay">
    <a class="close" href="javascript:;" id="reward-close">×</a>
    <span class="reward-title">
        <i class="icon icon-quote-left"></i>
        请我吃糖~
        <i class="icon icon-quote-right"></i>
    </span>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/images/wechat_code.jpg" alt="打赏二维码">
        </div>
        <div class="reward-select">
            
            <label class="reward-select-item checked" data-id="wechat" data-wechat="/images/wechat_code.jpg">
                <img class="reward-select-item-wechat" src="/images/wechat.png" alt="微信">
            </label>
            
            
            <label class="reward-select-item" data-id="alipay" data-alipay="/images/alipay_code.jpg">
                <img class="reward-select-item-alipay" src="/images/alipay.png" alt="支付宝">
            </label>
            
        </div>
    </div>
</div>


        
    </div>
    <footer class="article-footer">
        
        
<div class="post-share">
    <a href="javascript:;" id="share-sub" class="post-share-fab">
        <i class="fa fa-share-alt"></i>
    </a>
    <div class="post-share-list" id="share-list">
        <ul class="share-icons">
          <li>
            <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/&title=《第二章 进程管理1》 — VorSonnenaufgang's Blog&pic=cover.jpg" data-title="微博">
              <i class="fa fa-weibo"></i>
            </a>
          </li>
          <li>
            <a class="weixin share-sns" id="wxFab" href="javascript:;" data-title="微信">
              <i class="fa fa-weixin"></i>
            </a>
          </li>
          <li>
            <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/&title=《第二章 进程管理1》 — VorSonnenaufgang's Blog&source=Carpe diem." data-title="QQ">
              <i class="fa fa-qq"></i>
            </a>
          </li>
          <li>
            <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/" data-title="Facebook">
              <i class="fa fa-facebook"></i>
            </a>
          </li>
          <li>
            <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《第二章 进程管理1》 — VorSonnenaufgang's Blog&url=http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/&via=http://vor.ink" data-title="Twitter">
              <i class="fa fa-twitter"></i>
            </a>
          </li>
          <li>
            <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/" data-title="Google+">
              <i class="fa fa-google-plus"></i>
            </a>
          </li>
        </ul>
     </div>
</div>
<div class="post-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;" id="wxShare-close">×</a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://vor.ink/2018/05/05/%E7%AC%AC%E4%BA%8C%E7%AB%A0%20%E8%BF%9B%E7%A8%8B%E7%AE%A1%E7%90%861/" alt="微信分享二维码">
</div>

<div class="mask"></div>

        
        <ul class="article-footer-menu">
            
            
  <li class="article-footer-tags">
    <i class="fa fa-tags"></i>
      
    <a href="/tags/大学课程/" class="color5">大学课程</a>
      
    <a href="/tags/操作系统/" class="color5">操作系统</a>
      
  </li>

        </ul>
        
    </footer>
  </div>
</article>


    <aside class="post-toc-pos post-toc-top" id="post-toc">
        <nav class="post-toc-wrap">
        <div class= "post-toc-name">Table of Contents</div>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-1-%E8%BF%9B%E7%A8%8B%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="post-toc-text">2.1 进程的基本概念</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-1-1-%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%A1%BA%E5%BA%8F%E6%89%A7%E8%A1%8C"><span class="post-toc-text">2.1.1 程序的顺序执行</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-2-1-%E5%89%8D%E8%B6%8B%E5%9B%BE"><span class="post-toc-text">2.2.1 前趋图</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-1-3-%E7%A8%8B%E5%BA%8F%E7%9A%84%E5%B9%B6%E5%8F%91%E6%89%A7%E8%A1%8C"><span class="post-toc-text">2.1.3 程序的并发执行</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-1-4-%E8%BF%9B%E7%A8%8B%E7%9A%84%E7%89%B9%E5%BE%81%E4%B8%8E%E7%8A%B6%E6%80%81"><span class="post-toc-text">2.1.4 进程的特征与状态</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-1-5-%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6%E5%9D%97"><span class="post-toc-text">2.1.5 进程控制块</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-2-%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="post-toc-text">2.2 进程控制</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-2-1-%E8%BF%9B%E7%A8%8B%E5%88%9B%E5%BB%BA"><span class="post-toc-text">2.2.1 进程创建</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-2-2-%E8%BF%9B%E7%A8%8B%E7%BB%88%E6%AD%A2"><span class="post-toc-text">2.2.2 进程终止</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-2-3-%E8%BF%9B%E7%A8%8B%E9%98%BB%E5%A1%9E%E4%B8%8E%E5%94%A4%E9%86%92"><span class="post-toc-text">2.2.3 进程阻塞与唤醒</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-2-4-%E8%BF%9B%E7%A8%8B%E6%8C%82%E8%B5%B7%E4%B8%8E%E6%BF%80%E6%B4%BB"><span class="post-toc-text">2.2.4 进程挂起与激活</span></a></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#2-3-%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5"><span class="post-toc-text">2.3 进程同步</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-3-1-%E8%BF%9B%E7%A8%8B%E5%90%8C%E6%AD%A5%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="post-toc-text">2.3.1 进程同步的基本概念</span></a></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#2-3-2-%E4%BF%A1%E5%8F%B7%E9%87%8F%E6%9C%BA%E5%88%B6"><span class="post-toc-text">2.3.2 信号量机制</span></a></li></ol></li></ol>
        </nav>
    </aside>
    

<nav id="article-nav">
  
    <a href="/2018/06/02/UML%E2%80%94%E7%94%A8%E4%BE%8B%E5%92%8C%E7%94%A8%E4%BE%8B%E5%9B%BE/" id="article-nav-newer" class="article-nav-link-wrap">

      <span class="article-nav-title">
        <i class="fa fa-hand-o-left" aria-hidden="true"></i>
        
          UML—用例和用例图
        
      </span>
    </a>
  
  
    <a href="/2018/05/04/%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%BC%95%E8%AE%BA/" id="article-nav-older" class="article-nav-link-wrap">
      <span class="article-nav-title">第一章 操作系统引论</span>
      <i class="fa fa-hand-o-right" aria-hidden="true"></i>
    </a>
  
</nav>



    
        <div id="SOHUCS" sid="第二章 进程管理1" ></div>
<script type="text/javascript">
    (function(){
        var appid = 'cyvaQ34l4';
        var conf = 'dfbc2f31fdc91ffc75e2035195b4426d';
        var width = window.innerWidth || document.documentElement.clientWidth;
        if (width < 960) {
            window.document.write('<script id="changyan_mobile_js" charset="utf-8" type="text/javascript" src="https://changyan.sohu.com/upload/mobile/wap-js/changyan_mobile.js?client_id=' + appid + '&conf=' + conf + '"><\/script>'); } else { var loadJs=function(d,a){var c=document.getElementsByTagName("head")[0]||document.head||document.documentElement;var b=document.createElement("script");b.setAttribute("type","text/javascript");b.setAttribute("charset","UTF-8");b.setAttribute("src",d);if(typeof a==="function"){if(window.attachEvent){b.onreadystatechange=function(){var e=b.readyState;if(e==="loaded"||e==="complete"){b.onreadystatechange=null;a()}}}else{b.onload=a}}c.appendChild(b)};loadJs("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:appid,conf:conf})}); } })(); </script>
    
</section>
        
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info" class="inner">
      
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    |
    <span id="busuanzi_container_site_pv" style='display:none'>
        总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
    <div class="theme-info">
</p>


      <span class="post-count">本站博文总字数：201.6k</span>
      <p>
        Powered by  <a href="http://hexo.io/" target="_blank">Hexo</a>
        Theme <a href="//github.com/wongminho/hexo-theme-miho" target="_blank">MiHo</a>
      &copy; 2018~2022 VorSonnenaufgang<br>
      </p>
    </div>
  </div>
</footer>
    <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
<script src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>

<!--加载prettify代码高亮js-->
  <script type="text/javascript" src="/google-code-prettify/prettify.js"></script>
  <script type="text/javascript">
    $(document).ready(function(){
      $('pre').addClass('prettyprint linenums');
      $('code').addClass('prettyprint');
      prettyPrint();
    })
  </script>

<script>
  var mihoConfig = {
      root: "http://vor.ink",
      animate: true,
      isHome: false,
      share: true,
      reward: 1
  }
</script>
<div class="sidebar">
    <div id="sidebar-search" title="Search">
        <i class="fa fa-search"></i>
    </div>
    <div id="sidebar-category" title="Categories">
        <i class="fa fa-book"></i>
    </div>
    <div id="sidebar-tag" title="Tags">
        <i class="fa fa-tags"></i>
    </div>
    <div id="sidebar-top">
        <span class="sidebar-top-icon"><i class="fa fa-angle-up"></i></span>
    </div>
</div>
<div class="sidebar-menu-box" id="sidebar-menu-box">
    <div class="sidebar-menu-box-container">
        <div id="sidebar-menu-box-categories">
            <a class="category-link" href="/categories/Big-Data/">Big Data</a><a class="category-link" href="/categories/Blog/">Blog</a><a class="category-link" href="/categories/Essay/">Essay</a><a class="category-link" href="/categories/IDEA/">IDEA</a><a class="category-link" href="/categories/Java/">Java</a><a class="category-link" href="/categories/Programming/">Programming</a><a class="category-link" href="/categories/Spring/">Spring</a><a class="category-link" href="/categories/UML/">UML</a><a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF/">前端</a><a class="category-link" href="/categories/%E5%9B%BE%E8%AE%BA/">图论</a><a class="category-link" href="/categories/%E5%A5%87%E6%B7%AB%E5%B7%A7%E6%8A%80/">奇淫巧技</a><a class="category-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a><a class="category-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/">数据结构</a><a class="category-link" href="/categories/%E6%97%A0%E5%90%8D%E5%90%88%E9%9B%86/">无名合集</a><a class="category-link" href="/categories/%E6%B3%95%E8%AF%AD/">法语</a><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3/">计算机接口</a><a class="category-link" href="/categories/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/">计算机网络</a>
        </div>
        <div id="sidebar-menu-box-tags">
            <a href="/tags/Big-Data/" style="font-size: 10.83px;">Big Data</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/B%E7%AB%99%E5%B0%9A%E7%A1%85%E8%B0%B7/" style="font-size: 13.33px;">B站尚硅谷</a> <a href="/tags/B%E7%AB%99%E7%8E%8B%E9%81%93%E8%80%83%E7%A0%94/" style="font-size: 14.17px;">B站王道考研</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">C语言</a> <a href="/tags/ENSEEIHT/" style="font-size: 15px;">ENSEEIHT</a> <a href="/tags/Essay/" style="font-size: 10.83px;">Essay</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/IDEA/" style="font-size: 10px;">IDEA</a> <a href="/tags/Java/" style="font-size: 19.17px;">Java</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">Java基础</a> <a href="/tags/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8D%B7I/" style="font-size: 16.67px;">Java核心技术卷I</a> <a href="/tags/Java%E7%AC%94%E8%AE%B0/" style="font-size: 17.5px;">Java笔记</a> <a href="/tags/Java%E9%AB%98%E7%BA%A7/" style="font-size: 15.83px;">Java高级</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/OneNote/" style="font-size: 10px;">OneNote</a> <a href="/tags/QoS/" style="font-size: 11.67px;">QoS</a> <a href="/tags/SSM/" style="font-size: 10px;">SSM</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spark/" style="font-size: 10.83px;">Spark</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/UML/" style="font-size: 12.5px;">UML</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/macOS/" style="font-size: 12.5px;">macOS</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 10.83px;">图论</a> <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 20px;">大学课程</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10.83px;">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13.33px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%B3%95%E8%AF%AD/" style="font-size: 16.67px;">法语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E5%8F%A3%E8%AF%AD/" style="font-size: 10px;">法语口语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">法语语法</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E9%9F%B3/" style="font-size: 10px;">法语语音</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 10.83px;">离散数学</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3%E4%B8%8E%E9%80%9A%E4%BF%A1/" style="font-size: 12.5px;">计算机接口与通信</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 18.33px;">计算机网络</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">软件工程</a>
        </div>
    </div>
    <a href="javascript:;" class="sidebar-menu-box-close">&times;</a>
</div>
<div class="mobile-header-menu-nav" id="mobile-header-menu-nav">
    <div class="mobile-header-menu-container">
        <span class="title">Menus</span>
        <ul class="mobile-header-menu-navbar">
            
            <li>
                <a  href="/">
                    <i class="fa fa-home"></i><span>Home</span>
                </a>
            </li>
            
            <li>
                <a  href="/archives">
                    <i class="fa fa-archive"></i><span>Archives</span>
                </a>
            </li>
            
            <li>
                <a  href="/categories">
                    <i class="fa fa-book"></i><span>Categories</span>
                </a>
            </li>
            
            <li>
                <a  href="/tags">
                    <i class="fa fa-tags"></i><span>Tags</span>
                </a>
            </li>
            
            <li>
                <a  href="/about">
                    <i class="fa fa-user"></i><span>About</span>
                </a>
            </li>
            
        </ul>
    </div>
    <div class="mobile-header-tag-container">
        <span class="title">Tags</span>
        <div id="mobile-header-container-tags">
            <a href="/tags/Big-Data/" style="font-size: 10.83px;">Big Data</a> <a href="/tags/Blog/" style="font-size: 15px;">Blog</a> <a href="/tags/B%E7%AB%99%E5%B0%9A%E7%A1%85%E8%B0%B7/" style="font-size: 13.33px;">B站尚硅谷</a> <a href="/tags/B%E7%AB%99%E7%8E%8B%E9%81%93%E8%80%83%E7%A0%94/" style="font-size: 14.17px;">B站王道考研</a> <a href="/tags/CSS/" style="font-size: 10px;">CSS</a> <a href="/tags/C%E8%AF%AD%E8%A8%80/" style="font-size: 10px;">C语言</a> <a href="/tags/ENSEEIHT/" style="font-size: 15px;">ENSEEIHT</a> <a href="/tags/Essay/" style="font-size: 10.83px;">Essay</a> <a href="/tags/Hadoop/" style="font-size: 10px;">Hadoop</a> <a href="/tags/Hexo/" style="font-size: 12.5px;">Hexo</a> <a href="/tags/IDEA/" style="font-size: 10px;">IDEA</a> <a href="/tags/Java/" style="font-size: 19.17px;">Java</a> <a href="/tags/Java%E5%9F%BA%E7%A1%80/" style="font-size: 15px;">Java基础</a> <a href="/tags/Java%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF%E5%8D%B7I/" style="font-size: 16.67px;">Java核心技术卷I</a> <a href="/tags/Java%E7%AC%94%E8%AE%B0/" style="font-size: 17.5px;">Java笔记</a> <a href="/tags/Java%E9%AB%98%E7%BA%A7/" style="font-size: 15.83px;">Java高级</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/Maven/" style="font-size: 10px;">Maven</a> <a href="/tags/MyBatis/" style="font-size: 10px;">MyBatis</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/OneNote/" style="font-size: 10px;">OneNote</a> <a href="/tags/QoS/" style="font-size: 11.67px;">QoS</a> <a href="/tags/SSM/" style="font-size: 10px;">SSM</a> <a href="/tags/SVN/" style="font-size: 10px;">SVN</a> <a href="/tags/Spark/" style="font-size: 10.83px;">Spark</a> <a href="/tags/Spring/" style="font-size: 10px;">Spring</a> <a href="/tags/Spring-MVC/" style="font-size: 10px;">Spring MVC</a> <a href="/tags/SpringMVC/" style="font-size: 10px;">SpringMVC</a> <a href="/tags/UML/" style="font-size: 12.5px;">UML</a> <a href="/tags/YAML/" style="font-size: 10px;">YAML</a> <a href="/tags/macOS/" style="font-size: 12.5px;">macOS</a> <a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 10px;">前端</a> <a href="/tags/%E5%9B%BE%E8%AE%BA/" style="font-size: 10.83px;">图论</a> <a href="/tags/%E5%A4%A7%E5%AD%A6%E8%AF%BE%E7%A8%8B/" style="font-size: 20px;">大学课程</a> <a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 10.83px;">操作系统</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 13.33px;">数据库</a> <a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" style="font-size: 10px;">数据结构</a> <a href="/tags/%E6%B3%95%E8%AF%AD/" style="font-size: 16.67px;">法语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E5%8F%A3%E8%AF%AD/" style="font-size: 10px;">法语口语</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E6%B3%95/" style="font-size: 15px;">法语语法</a> <a href="/tags/%E6%B3%95%E8%AF%AD%E8%AF%AD%E9%9F%B3/" style="font-size: 10px;">法语语音</a> <a href="/tags/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" style="font-size: 10.83px;">离散数学</a> <a href="/tags/%E7%AE%97%E6%B3%95/" style="font-size: 10px;">算法</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E6%8E%A5%E5%8F%A3%E4%B8%8E%E9%80%9A%E4%BF%A1/" style="font-size: 12.5px;">计算机接口与通信</a> <a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 18.33px;">计算机网络</a> <a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 10px;">软件工程</a>
        </div>
    </div>
</div>
<div class="search-wrap">
    <span class="search-close">&times;</span>
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
            <i class="icon icon-lg icon-chevron-left"></i>
        </a>
        <input class="search-field" placeholder="Search..." id="keywords">
        <a id="search-submit" href="javascript:;">
            <i class="fa fa-search"></i>
        </a>
    <div class="search-container" id="search-container">
        <ul class="search-result" id="search-result">
        </ul>
    </div>
</div>

<div id="search-tpl">
    <li class="search-result-item">
        <a href="{url}" class="search-item-li">
            <span class="search-item-li-title" title="{title}">{title}</span>
        </a>
    </li>
</div>

<script src="/js/search.js"></script>


<script src="/js/main.js"></script>









  
<link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">

  <script src="//cdn.bootcss.com/scrollReveal.js/3.0.5/scrollreveal.js"></script>
  
<script src="/js/animate.js"></script>



  
<script src="/js/pop-img.js"></script>

  <script>
     $(".article-entry p img").popImg();
  </script>

  </div>
  <!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/love.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":200,"height":400,"vOffset":-30},"mobile":{"show":false},"react":{"opacity":0.8},"log":false});</script></body>
</html>



